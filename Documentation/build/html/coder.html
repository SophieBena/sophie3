<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Coder package &mdash; Thermoengine 1.0.1 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="None"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" >
    <link rel="search" title="Search" href="search.html" >
    <link rel="top" title="Thermoengine 1.0.1 documentation" href="index.html" >
    <link rel="next" title="Coder Templates package" href="coder_templates.html" >
    <link rel="prev" title="Equilibrate package" href="equilibrate.html" > 
  </head>
  <body>

<div class="container">
  <div class="top-scipy-org-logo-header">
    <a href="index.html">
      <img style="border: 0;" alt="ENKI" src="_static/img/ENKI_header.png"></a>
    </div>
  </div>
</div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="http://enki-portal.org">ENKI Web</a></li>
        <li class="active"><a href="https://enki.ofm-research.org">ENKI Server</a></li>
	
        <li class="active"><a href="index.html">Thermoengine 1.0.1 documentation</a></li>
	 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="coder_templates.html" title="Coder Templates package"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="equilibrate.html" title="Equilibrate package"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/Enki.png" alt="Logo">
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="equilibrate.html"
                        title="previous chapter">Equilibrate package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="coder_templates.html"
                        title="next chapter">Coder Templates package</a></p>
        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="module-coder">
<span id="coder-package"></span><h1>Coder package<a class="headerlink" href="#module-coder" title="Permalink to this headline">¶</a></h1>
<p>The Coder module provides code generation for symbolically defined thermodynamics.</p>
<p>This module implements a Python interface that enables the symbolic
specification of the thermodynamic properties of a phase with code generation
of the resulting model. Code may be produced for either fast computation of
results or model parameter calibration.</p>
<dl class="simple">
<dt>Code generation options:</dt><dd><ul class="simple">
<li><p>Fast computation optimization: fixed parameters</p></li>
<li><p>Model calibration optimization: variable parameters</p></li>
</ul>
</dd>
</dl>
<p>Classes are defined to implement standard state properties of pure components,
thermodynamic properties of simple solutions, and thermodynamic properties of
complex solid solutions that exhibit both convergent and non-convergent cation
order-disorder.</p>
<dl class="simple">
<dt>Thermodynamic properties are implemented for:</dt><dd><ul class="simple">
<li><p>Pure phases at standard state</p></li>
<li><p>Simple solutions (asymmetric regular)</p></li>
<li><p>Complex solutions (convergent &amp; non-convergent cation order-disorder)</p></li>
</ul>
</dd>
</dl>
<p>By default, models are formulated in terms of the Gibbs free energy, with
independent variables temperature, pressure, and (for solutions) mole numbers of
components. Alternatively, models may be implemented in terms of the Helmholtz
free energy, with independent variables temperature, volume, and mole numbers of
components.</p>
<dl class="simple">
<dt>Model formulation options:</dt><dd><ul class="simple">
<li><p>Gibbs Free Energy G(T, P, mols) [default]</p></li>
<li><p>Helmholtz Free Energy A(T, V, mols)</p></li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="coder.StdStateModel">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">StdStateModel</code><span class="sig-paren">(</span><em class="sig-param">model_type='TP'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Class creates representation of standard state properties of pure phase.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>model_type</strong><span class="classifier">str</span></dt><dd><p>Model type of ‘TP’ implies that expressions are of the form of the Gibbs
free energy.</p>
<p>Model type of ‘TV’ implies that expressions are of the form of the
Helmholtz energy. This option is infrequently used.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Class for creating a representation of the standard state properties of a
stoichiometric phase.  The principal use of the class is to construct a
model symbolically and to generate code that implements the model for model
parameter calibration and thermodynamic property calculation.</p>
<p>The class supports standard state models that involve integrals of the
Debye function, implicit functions for equations of state, and models that
require Born functions for estimation of the dielectric properties of
water.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#coder.StdStateModel.a_list" title="coder.StdStateModel.a_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">a_list</span></code></a></dt><dd><p>Array of tuples used internally by the class</p>
</dd>
<dt><a class="reference internal" href="#coder.StdStateModel.expression_parts" title="coder.StdStateModel.expression_parts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">expression_parts</span></code></a></dt><dd><p>Array of Expression class instances</p>
</dd>
<dt><a class="reference internal" href="#coder.StdStateModel.g_list" title="coder.StdStateModel.g_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">g_list</span></code></a></dt><dd><p>Array of tuples used internally by the class</p>
</dd>
<dt><a class="reference internal" href="#coder.StdStateModel.implicit_functions" title="coder.StdStateModel.implicit_functions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">implicit_functions</span></code></a></dt><dd><p>Array of Implicit_Function class instances</p>
</dd>
<dt><a class="reference internal" href="#coder.StdStateModel.module" title="coder.StdStateModel.module"><code class="xref py py-obj docutils literal notranslate"><span class="pre">module</span></code></a></dt><dd><p>Name of module</p>
</dd>
<dt><a class="reference internal" href="#coder.StdStateModel.params" title="coder.StdStateModel.params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span></code></a></dt><dd><p>Array of Parameter class instances</p>
</dd>
<dt><a class="reference internal" href="#coder.StdStateModel.printer" title="coder.StdStateModel.printer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">printer</span></code></a></dt><dd><p>Instance of a SymPy code printer class used in code generation</p>
</dd>
<dt><a class="reference internal" href="#coder.StdStateModel.variables" title="coder.StdStateModel.variables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">variables</span></code></a></dt><dd><p>Array of Parameter class instances</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.add_expression_to_model" title="coder.StdStateModel.add_expression_to_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_expression_to_model</span></code></a>(self, expression, params)</p></td>
<td><p>Adds an expression and associated parameters to the model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.create_calc_h_file" title="coder.StdStateModel.create_calc_h_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_calc_h_file</span></code></a>(self[, language, module_type])</p></td>
<td><p>Creates an include file implementing model calculations.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.create_calib_h_file" title="coder.StdStateModel.create_calib_h_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_calib_h_file</span></code></a>(self[, language])</p></td>
<td><p>Creates a C-code include file implementing model calibration functions.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.create_code_module" title="coder.StdStateModel.create_code_module"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_code_module</span></code></a>(self[, phase, formula, …])</p></td>
<td><p>Creates and writes an include and code file for a model instance.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.get_berman_std_state_database" title="coder.StdStateModel.get_berman_std_state_database"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_berman_std_state_database</span></code></a>(self[, …])</p></td>
<td><p>Retrieves priors from the thermodynamic database of Berman (1988).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.get_include_born_code" title="coder.StdStateModel.get_include_born_code"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_include_born_code</span></code></a>(self)</p></td>
<td><p>Retrieves a boolean flag specifying whether code implementing the Born functions will be linked to the generated module.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.get_include_debye_code" title="coder.StdStateModel.get_include_debye_code"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_include_debye_code</span></code></a>(self)</p></td>
<td><p>Retrieves a boolean flag specifying whether a block of code implementing the Debye integral function will be generated.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.get_model_param_names" title="coder.StdStateModel.get_model_param_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_param_names</span></code></a>(self)</p></td>
<td><p>Retrieves a list of strings of model parameter names.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.get_model_param_symbols" title="coder.StdStateModel.get_model_param_symbols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_param_symbols</span></code></a>(self)</p></td>
<td><p>Retrieves a list of SymPy symbols for model parameters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.get_model_param_units" title="coder.StdStateModel.get_model_param_units"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_param_units</span></code></a>(self)</p></td>
<td><p>Retrieves a list of strings of model parameter units.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.get_module_name" title="coder.StdStateModel.get_module_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_module_name</span></code></a>(self)</p></td>
<td><p>Retrieves module name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.get_symbol_for_p" title="coder.StdStateModel.get_symbol_for_p"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_p</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for pressure.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.get_symbol_for_pr" title="coder.StdStateModel.get_symbol_for_pr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_pr</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for reference pressure.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.get_symbol_for_t" title="coder.StdStateModel.get_symbol_for_t"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_t</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for temperature.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.get_symbol_for_tr" title="coder.StdStateModel.get_symbol_for_tr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_tr</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for reference temperature.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.get_symbol_for_v" title="coder.StdStateModel.get_symbol_for_v"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_v</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for volume.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.get_symbol_for_vr" title="coder.StdStateModel.get_symbol_for_vr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_vr</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for reference volume.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.parse_formula" title="coder.StdStateModel.parse_formula"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_formula</span></code></a>(self[, formula_string])</p></td>
<td><p>Parses a chemical formula, and returns a molecular weight and an array of elemental concentrations.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.set_include_born_code" title="coder.StdStateModel.set_include_born_code"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_include_born_code</span></code></a>(self[, include])</p></td>
<td><p>Sets a boolean flag controlling the inclusion of code implementing the Born functions.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.set_include_debye_code" title="coder.StdStateModel.set_include_debye_code"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_include_debye_code</span></code></a>(self[, include])</p></td>
<td><p>Sets a boolean flag controlling the inclusion of a block of code implementing the Debye integral function.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.StdStateModel.set_module_name" title="coder.StdStateModel.set_module_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_module_name</span></code></a>(self, module_s)</p></td>
<td><p>Retrieves module name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.StdStateModel.set_reference_origin" title="coder.StdStateModel.set_reference_origin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_reference_origin</span></code></a>(self[, Tr, Pr, Vr])</p></td>
<td><p>Sets the reference conditions for the model.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="coder.StdStateModel.a_list">
<em class="property">property </em><code class="sig-name descname">a_list</code><a class="headerlink" href="#coder.StdStateModel.a_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of tuples used internally by the class</p>
<p>Each tuple contains the following entries:</p>
<ul class="simple">
<li><p>[0] str - Function name for derivatives of the Helmholtz energy</p></li>
<li><p>[1] int - Order of temperature derivative</p></li>
<li><p>[2] int - Order of volume derivative</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of tuples</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.add_expression_to_model">
<code class="sig-name descname">add_expression_to_model</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">expression</em>, <em class="sig-param">params</em>, <em class="sig-param">exp_type='unrestricted'</em>, <em class="sig-param">lower_limits=(None</em>, <em class="sig-param">None)</em>, <em class="sig-param">upper_limits=(None</em>, <em class="sig-param">None)</em>, <em class="sig-param">implicit_functions=None</em>, <em class="sig-param">extend_restricted_functions=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.add_expression_to_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.add_expression_to_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an expression and associated parameters to the model.</p>
<p>Adds an expression for the Gibbs or Helmholtz energy to the
standard state model along with a description of expression parameters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>expression</strong><span class="classifier">sympy.core.symbol.Symbol</span></dt><dd><p>A SymPy expression for the Gibbs free energy (if model_type is ‘TP’)
or the Helmholtz energy (if model_type is ‘TV’).</p>
<p>The expression may contain an implicit variable, <em>f</em>, whose value
is a function of T,P or T,V.  The value of <em>f</em> is determined
numerically by solving the implicit_function expression (defined
below) at runtime using Newton’s method.</p>
</dd>
<dt><strong>params</strong><span class="classifier">An array of tuples</span></dt><dd><p>Structure (string, string, SymPy expression):</p>
<ul class="simple">
<li><p>[0] str - Name of the parameter</p></li>
<li><p>[1] str - Units of parameter</p></li>
<li><p>[2] sympy.core.symbol.Symbol - SymPy symbol for the parameter</p></li>
</ul>
</dd>
<dt><strong>exp_type</strong><span class="classifier">str, default=’unrestricted’</span></dt><dd><ul class="simple">
<li><p>‘unrestricted’ - Expression is applicable over the whole of T,P or T,V space.</p></li>
<li><p>‘restricted’ - Expression applies only between the specified
lower_limits and upper_limits.</p></li>
</ul>
</dd>
<dt><strong>lower_limits</strong><span class="classifier">tuple</span></dt><dd><p>A tuple of SymPy expressions defining the inclusive lower (T,P) or
(T,V) limit of applicability of the expression. Used only if
exp_type is set to ‘restricted’.</p>
</dd>
<dt><strong>upper_limits</strong><span class="classifier">tuple</span></dt><dd><p>A tuple of SymPy expressions defining the inclusive upper (T,P) or
(T,V) limit of applicability of the expression. Used only if
exp_type is set to ‘restricted’.</p>
</dd>
<dt><strong>implicit_functions</strong><span class="classifier">array of tuples</span></dt><dd><p>A tuple element contains three parts:</p>
<ul class="simple">
<li><p>[0] sympy.core.symbol.Symbol - SymPy expression for an implicit
function in two independent (T,P or T,V) variables and one
dependent variable (<em>f</em>). The function is equal to zero.</p></li>
<li><p>[1] sympy.core.symbol.Symbol - SymPy symbol for the dependent
variable <em>f</em>.</p></li>
<li><p>[2] sympy.core.symbol.Symbol - SymPy expression that initializes <em>f</em>
in the iterative routine. This expression must be defined in
terms of known parameters and Tr, Pr, T, P.</p></li>
</ul>
</dd>
<dt><strong>extend_restricted_functions</strong><span class="classifier">bool, default=True</span></dt><dd><p>A boolean that controls whether a “restricted” <em>exp_type</em> is
extended beyond its <em>upper_limits</em>. By default, temperature and
pressure/volume derivatives of <em>expression</em> are evaluated at the
<em>upper_limits</em>, and these constants are added as linear functions of
<em>T</em> and <em>P/V</em> applicable and restricted to conditions <em>above</em> the
<em>upper_limits</em>. You can disable the default behavior by setting
<em>extend_restricted_functions</em> to <em>False</em>.  Note that, in general, the
default behavior is desired as it allows entropic and volumetric
contributions developed over the restricted domain of <em>expression</em>
to contribute to the energy potential beyond the domain. Such
behavior is consistent with SymPy Piecewise functions. Special
circumstances, however, may require the default behavior to be
disabled.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.create_calc_h_file">
<code class="sig-name descname">create_calc_h_file</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">language='C'</em>, <em class="sig-param">module_type='fast'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.create_calc_h_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.create_calc_h_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an include file implementing model calculations.</p>
<p>Note that this include file contains code for functions that implement
the model for the generic case. It is meant to be included into a file
that implements a specific parameterized instance of the model. See
create_fast_code_module().</p>
<p>The user does not normally call this function directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>language</strong><span class="classifier">str</span></dt><dd><p>Language syntax for generated code. (“C” is the C99 programming
language.)</p>
</dd>
<dt><strong>module_type</strong><span class="classifier">str</span></dt><dd><p>Generate code that executes “fast” but does not expose hooks for
model parameter calibration. Alternately, generate code suitable for
“calib”ration of parameters in the model, which executes more slowly
and exposes additional functions that allow setting of parameters
and generation of derivatives of thermodynamic functions with
respect to model parameters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.create_calib_h_file">
<code class="sig-name descname">create_calib_h_file</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">language='C'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.create_calib_h_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.create_calib_h_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a C-code include file implementing model calibration functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>language</strong><span class="classifier">string</span></dt><dd><p>Language syntax for generated code. (“C” is the C99 programming
language.)</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The calib_h include file contains code for functions that implement
the model for the generic case. It is meant to be included into a file
that implements a specific parameterized instance of the model.
See create_calib_code_module().</p>
<p>The user does not normally call this function directly.</p>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.create_code_module">
<code class="sig-name descname">create_code_module</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">phase='Quartz'</em>, <em class="sig-param">formula='Si(1)O(2)'</em>, <em class="sig-param">params={}</em>, <em class="sig-param">identifier=None</em>, <em class="sig-param">prefix='cy'</em>, <em class="sig-param">module_type='fast'</em>, <em class="sig-param">silent=False</em>, <em class="sig-param">language='C'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.create_code_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.create_code_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and writes an include and code file for a model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>phase</strong><span class="classifier">str</span></dt><dd><p>Model instance title (e.g., phase name).  Used to name the generated
function. Cannot contain blank spaces or special characters; underscore
(“_”) is permitted. Convention capitalizes the first letter and the
letter following an underscore (“_”) character.</p>
</dd>
<dt><strong>formula</strong><span class="classifier">str</span></dt><dd><p>Chemical formula of the model instance, in standard notation.
Standard notation is of the form: Element Symbol followed by
parentheses enclosing a number, which may be decimalized.  E.g.,
SiO2 is written as Si(1)O(2); CaMg1/2Ti1/2AlO6 is written as
Ca(1)Mg(0.5)Ti(0.5)Al(1)Si(1)O(6); CaMg(CO3)2 is written as
Ca(1)Mg(1)C(2)O(6).</p>
</dd>
<dt><strong>params</strong><span class="classifier">dict</span></dt><dd><p>Parameter values for the model instance.
The keys of this dictionary are validated against parameter symbols
stored for the model.</p>
</dd>
<dt><strong>identifier</strong><span class="classifier">str</span></dt><dd><p>A unique identifier for the model instance.
Defaults to local date and time when module is created (rounded to
the second).</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str</span></dt><dd><p>Prefix to function names for Python bindings, e.g.,
{prefix}_{phase}_{module}_g(T,P).</p>
</dd>
<dt><strong>module_type</strong><span class="classifier">str</span></dt><dd><p>Generate code that executes “fast” but does not expose hooks for
model parameter calibration. Alternately, generate code suitable for
“calib”ration of parameters in the model, which executes more slowly
and exposes additional functions that allow setting of parameters
and generation of derivatives of thermodynamic functions with
respect to model parameters.</p>
</dd>
<dt><strong>silent</strong><span class="classifier">bool</span></dt><dd><p>Print (True) or do not print (False) status messages.</p>
</dd>
<dt><strong>language</strong><span class="classifier">string</span></dt><dd><p>Language syntax for generated code. (“C” is the C99 programming
language; “C++” is the C++ programming language.)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">Boolean</span></dt><dd><p>True if module is succesfully generated, False if some error occurred</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.expression_parts">
<em class="property">property </em><code class="sig-name descname">expression_parts</code><a class="headerlink" href="#coder.StdStateModel.expression_parts" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of Expression class instances</p>
<p>A model is built by layering expression instances. Each instance may
be applicable over all or a portion of the domain space of variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of Expression class instances, [str,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.g_list">
<em class="property">property </em><code class="sig-name descname">g_list</code><a class="headerlink" href="#coder.StdStateModel.g_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of tuples used internally by the class</p>
<p>Each tuple contains the following entries:</p>
<ul class="simple">
<li><p>[0] str - Function name for derivatives of the Gibbs free energy</p></li>
<li><p>[1] int - Order of temperature derivative</p></li>
<li><p>[2] int - Order of pressure derivative</p></li>
</ul>
<p>Generally for internal use by the class</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of tuples</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_berman_std_state_database">
<code class="sig-name descname">get_berman_std_state_database</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">identifier=None</em>, <em class="sig-param">extend_defs=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_berman_std_state_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_berman_std_state_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves priors from the thermodynamic database of Berman (1988).</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>identifier</strong><span class="classifier">int</span></dt><dd><p>Value may be None or an integer in the range (0, length of Berman
database).</p>
</dd>
<dt><strong>extend_defs</strong><span class="classifier">bool</span></dt><dd><p>False: The standard set of Berman parameters are retrieved.</p>
<p>True: Additional parameters are computed, including ‘K’ and
‘K_P’, the bulk modulus and its pressure derivative.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier">variable</span></dt><dd><p>If identifier is None, then the function returns an array of tuples,
one for each phase in the database:</p>
<ul class="simple">
<li><p>[0] database index</p></li>
<li><p>[1] name of the phase</p></li>
<li><p>[2] formula of the phase, in standard notation</p></li>
</ul>
<p>If identifier is an integer, then the function returns a dictionary
with keys, corresponding parameter names, and values corresponding
to parameter values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_include_born_code">
<code class="sig-name descname">get_include_born_code</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_include_born_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_include_born_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a boolean flag specifying whether code implementing the Born
functions will be linked to the generated module.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>boolean</strong><span class="classifier">bool</span></dt><dd><p>True or False (default)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_include_debye_code">
<code class="sig-name descname">get_include_debye_code</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_include_debye_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_include_debye_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a boolean flag specifying whether a block of code
implementing the Debye integral function will be generated.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>boolean</strong><span class="classifier">bool</span></dt><dd><p>True or False (default)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_model_param_names">
<code class="sig-name descname">get_model_param_names</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_model_param_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_model_param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a list of strings of model parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result</strong><span class="classifier">list of str</span></dt><dd><p>Names of model parameters</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_model_param_symbols">
<code class="sig-name descname">get_model_param_symbols</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_model_param_symbols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_model_param_symbols" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a list of SymPy symbols for model parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result</strong><span class="classifier">list of sym.Symbol</span></dt><dd><p>SymPy symbols for model parameters</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_model_param_units">
<code class="sig-name descname">get_model_param_units</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_model_param_units"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_model_param_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a list of strings of model parameter units.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result</strong><span class="classifier">list of str</span></dt><dd><p>Units of model parameters</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_module_name">
<code class="sig-name descname">get_module_name</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_module_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_module_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves module name.</p>
<p>The module name is used in creating file names for coded functions.
Maintained for backward compatibility.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>string</strong><span class="classifier">str</span></dt><dd><p>The name of the module.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_symbol_for_p">
<code class="sig-name descname">get_symbol_for_p</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_symbol_for_p"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_symbol_for_p" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for pressure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>P</strong><span class="classifier">sympy symbol</span></dt><dd><p>SymPy symbol for pressure</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_symbol_for_pr">
<code class="sig-name descname">get_symbol_for_pr</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_symbol_for_pr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_symbol_for_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for reference pressure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Pr</strong><span class="classifier">sympy symbol</span></dt><dd><p>SymPy symbol for reference pressure</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_symbol_for_t">
<code class="sig-name descname">get_symbol_for_t</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_symbol_for_t"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_symbol_for_t" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for temperature.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>T</strong><span class="classifier">sympy.core.symbol.Symbol</span></dt><dd><p>SymPy symbol for temperature</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_symbol_for_tr">
<code class="sig-name descname">get_symbol_for_tr</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_symbol_for_tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_symbol_for_tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for reference temperature.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Tr</strong><span class="classifier">sympy symbol</span></dt><dd><p>SymPy symbol for reference temperature</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_symbol_for_v">
<code class="sig-name descname">get_symbol_for_v</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_symbol_for_v"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_symbol_for_v" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>V</strong><span class="classifier">sympy symbol</span></dt><dd><p>SymPy symbol for volume</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.get_symbol_for_vr">
<code class="sig-name descname">get_symbol_for_vr</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.get_symbol_for_vr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.get_symbol_for_vr" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for reference volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Vr</strong><span class="classifier">sympy symbol</span></dt><dd><p>SymPy symbol for reference volume</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.implicit_functions">
<em class="property">property </em><code class="sig-name descname">implicit_functions</code><a class="headerlink" href="#coder.StdStateModel.implicit_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of Implicit_Function class instances</p>
<p>A model may require that one or more implicit function expressions be
satisfied prior to evaluation of the model expressions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of Implicit_Function class instances, [str,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.module">
<em class="property">property </em><code class="sig-name descname">module</code><a class="headerlink" href="#coder.StdStateModel.module" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of module</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Name of module (str)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.params">
<em class="property">property </em><code class="sig-name descname">params</code><a class="headerlink" href="#coder.StdStateModel.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of Parameter class instances</p>
<p>Parameters are calibrated quantities that define the model, like T_r
and P_r.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of Parameter class instances, [Parameter,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.parse_formula">
<code class="sig-name descname">parse_formula</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">formula_string='Si(1)O(2)'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.parse_formula"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.parse_formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a chemical formula, and returns a molecular weight and an array of
elemental concentrations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>formula_string</strong><span class="classifier">str</span></dt><dd><p>Formula of compound specified in the standard form
SiO2 -&gt; Si(1)O(2)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>mw, elmvector</strong><span class="classifier">tuple</span></dt><dd><ul class="simple">
<li><p>[0] mw is a float containing the molecular weight in grams.</p></li>
<li><p>[1] elmvector is a numpy array of length 120 containing the mole numbers
of each element in the compound.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.printer">
<em class="property">property </em><code class="sig-name descname">printer</code><a class="headerlink" href="#coder.StdStateModel.printer" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of a SymPy code printer class used in code generation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>C99CodePrinter</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.set_include_born_code">
<code class="sig-name descname">set_include_born_code</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">include=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.set_include_born_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.set_include_born_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a boolean flag controlling the inclusion of code implementing the
Born functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>include</strong><span class="classifier">bool</span></dt><dd><p>True or False</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.set_include_debye_code">
<code class="sig-name descname">set_include_debye_code</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">include=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.set_include_debye_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.set_include_debye_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a boolean flag controlling the inclusion of a block of code
implementing the Debye integral function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>include</strong><span class="classifier">bool</span></dt><dd><p>True or False</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.set_module_name">
<code class="sig-name descname">set_module_name</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">module_s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.set_module_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.set_module_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves module name.</p>
<p>The module name is used in creating file names for coded functions.
Maintained for backward compatibility.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>module_s</strong><span class="classifier">str</span></dt><dd><p>The name of the module</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.set_reference_origin">
<code class="sig-name descname">set_reference_origin</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">Tr=298.15</em>, <em class="sig-param">Pr=1.0</em>, <em class="sig-param">Vr=2.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#StdStateModel.set_reference_origin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.StdStateModel.set_reference_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the reference conditions for the model.</p>
<p>Tr must be specified along with one of Pr or Vr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Tr</strong><span class="classifier">float</span></dt><dd><p>Reference temperature for the model (in Kelvins)</p>
</dd>
<dt><strong>Pr</strong><span class="classifier">float</span></dt><dd><p>Reference pressure for the model (in bars)</p>
</dd>
<dt><strong>Vr</strong><span class="classifier">float</span></dt><dd><p>Reference volume of the model (in J/bar)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.StdStateModel.variables">
<em class="property">property </em><code class="sig-name descname">variables</code><a class="headerlink" href="#coder.StdStateModel.variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of Parameter class instances</p>
<p>This property returns or sets an array of variables, either T, P, T_r and P_r
(if model_type is ’TP’) or T, V, T_r and V_r (if model type is equal to ’TV’).
Array elements are encapsulated as instances of the Parameter class object.
This is simply done as a convenience wrapper. Note that SymPy symbols that are
suitable for developing model expressions using these variables are probably
more easily accessed using the methods:</p>
<ul class="simple">
<li><p>get_symbol_for_t()</p></li>
<li><p>get_symbol_for_p()</p></li>
</ul>
<p>and so on.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of Parameter class instances, [Parameter,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.SimpleSolnModel">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">SimpleSolnModel</code><span class="sig-paren">(</span><em class="sig-param">nc=None</em>, <em class="sig-param">model_type='TP'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Class creates a model of the thermodynamic properties of a simple solution.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>nc</strong><span class="classifier">int</span></dt><dd><p>Number of thermodynamic components in the solution</p>
</dd>
<dt><strong>model_type</strong><span class="classifier">str</span></dt><dd><p>Model type of ‘TP’ implies that expressions are of the form of the Gibbs
free energy.</p>
<p>Model type of ‘TV’ implies that expressions are of the form of the
Helmholtz energy. This option is infrequently used.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This class is for creating a representation of the thermodynamic properties
of a simple solution phase.  The principal use of the class is to construct
a model symbolically and to generate code that implements the model for
model parameter calibration and thermodynamic property calculation.</p>
<p>A simple solution is one that does not contain implicit variables that need
be determined via solution of conditions of homogeneous equilibrium.
Examples of simple solutions include regular solutions, asymmetric binary
and ternary Margules expansions, and high order Taylor series expansions of
the Gibbs free energy of mixing.  Examples of solutions not compatible with
this class are aqueous or liquid solutions involving complex formation
(speciation) or solid solutions that include cation-ordering or composition
dependent symmetry-breaking phase transitions.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#coder.SimpleSolnModel.a_list" title="coder.SimpleSolnModel.a_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">a_list</span></code></a></dt><dd><p>Array of tuples used internally by the class</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.conversion_string" title="coder.SimpleSolnModel.conversion_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conversion_string</span></code></a></dt><dd><p>List of strings that describe how to assign mole numbers to phase components</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.d2n_g_list" title="coder.SimpleSolnModel.d2n_g_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">d2n_g_list</span></code></a></dt><dd><p>List of strings that identify second order compositional derivatives produced</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.d3n_g_list" title="coder.SimpleSolnModel.d3n_g_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">d3n_g_list</span></code></a></dt><dd><p>List of strings that identify third order compositional derivatives produced</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.dn_g_list" title="coder.SimpleSolnModel.dn_g_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dn_g_list</span></code></a></dt><dd><p>List of strings that identify first order compositional derivatives produced</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.expression_parts" title="coder.SimpleSolnModel.expression_parts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">expression_parts</span></code></a></dt><dd><p>Array of Expression class instances</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.formula_string" title="coder.SimpleSolnModel.formula_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">formula_string</span></code></a></dt><dd><p>String that describes how the chemical formula of a phase will be displayed</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.g_list" title="coder.SimpleSolnModel.g_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">g_list</span></code></a></dt><dd><p>Array of tuples used internally by the class</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.implicit_functions" title="coder.SimpleSolnModel.implicit_functions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">implicit_functions</span></code></a></dt><dd><p>Array of ImplicitFunction class instances</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.module" title="coder.SimpleSolnModel.module"><code class="xref py py-obj docutils literal notranslate"><span class="pre">module</span></code></a></dt><dd><p>Name of module</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.mu" title="coder.SimpleSolnModel.mu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mu</span></code></a></dt><dd><p>1-d matrix of SymPy symbols for the chemical potentials of thermodynamic</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.n" title="coder.SimpleSolnModel.n"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n</span></code></a></dt><dd><p>1-d matrix of SymPy symbols for the mole numbers of thermodynamic</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.nc" title="coder.SimpleSolnModel.nc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nc</span></code></a></dt><dd><p>Number of thermodynamic components in the solution</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.nT" title="coder.SimpleSolnModel.nT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nT</span></code></a></dt><dd><p>SymPy expression for the total number of moles of all thermodynamic</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.params" title="coder.SimpleSolnModel.params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span></code></a></dt><dd><p>Array of Parameter class instances</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.printer" title="coder.SimpleSolnModel.printer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">printer</span></code></a></dt><dd><p>Instance of a SymPy code printer class used in code generation</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.test_string" title="coder.SimpleSolnModel.test_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">test_string</span></code></a></dt><dd><p>List of strings that describe feasible limits on the mole numbers of phase</p>
</dd>
<dt><a class="reference internal" href="#coder.SimpleSolnModel.variables" title="coder.SimpleSolnModel.variables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">variables</span></code></a></dt><dd><p>Array of Parameter class instances</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.add_expression_to_model" title="coder.SimpleSolnModel.add_expression_to_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_expression_to_model</span></code></a>(self, expression, params)</p></td>
<td><p>Adds an expression and associated parameters to the model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.create_code_module" title="coder.SimpleSolnModel.create_code_module"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_code_module</span></code></a>(self[, phase, params, …])</p></td>
<td><p>Creates include and code file for a model instance.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.create_conversion_code_block" title="coder.SimpleSolnModel.create_conversion_code_block"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_conversion_code_block</span></code></a>(self)</p></td>
<td><p>Creates a block of code that computes moles of endmember components from moles of elements according to a specified recipe.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.create_formula_code_block" title="coder.SimpleSolnModel.create_formula_code_block"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_formula_code_block</span></code></a>(self)</p></td>
<td><p>Creates a block of code that computes a formula for this phase.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.create_soln_calc_h_file" title="coder.SimpleSolnModel.create_soln_calc_h_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_soln_calc_h_file</span></code></a>(self[, language, …])</p></td>
<td><p>Creates an include file implementing model calculations.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.create_soln_calib_h_file" title="coder.SimpleSolnModel.create_soln_calib_h_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_soln_calib_h_file</span></code></a>(self[, language])</p></td>
<td><p>Creates an include file implementing model parameter derivatives.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.create_test_code_block" title="coder.SimpleSolnModel.create_test_code_block"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_test_code_block</span></code></a>(self)</p></td>
<td><p>Creates a block of code that tests moles of endmember components according to a specified recipe to ensure that values are viable.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.get_include_dh_code" title="coder.SimpleSolnModel.get_include_dh_code"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_include_dh_code</span></code></a>(self)</p></td>
<td><p>Retrieves boolean flag specifying whether code implementing the Debye-Hückel functions will be included in generated code.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.get_model_param_names" title="coder.SimpleSolnModel.get_model_param_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_param_names</span></code></a>(self)</p></td>
<td><p>Retrieves a list of strings of model parameter names.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.get_model_param_symbols" title="coder.SimpleSolnModel.get_model_param_symbols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_param_symbols</span></code></a>(self)</p></td>
<td><p>Retrieves a list of SymPy symbols for model parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.get_model_param_units" title="coder.SimpleSolnModel.get_model_param_units"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_param_units</span></code></a>(self)</p></td>
<td><p>Retrieves a list of strings of model parameter units.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.get_symbol_for_p" title="coder.SimpleSolnModel.get_symbol_for_p"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_p</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for pressure.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.get_symbol_for_pr" title="coder.SimpleSolnModel.get_symbol_for_pr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_pr</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for reference pressure.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.get_symbol_for_t" title="coder.SimpleSolnModel.get_symbol_for_t"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_t</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for temperature.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.get_symbol_for_tr" title="coder.SimpleSolnModel.get_symbol_for_tr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_tr</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for reference temperature.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.get_symbol_for_v" title="coder.SimpleSolnModel.get_symbol_for_v"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_v</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for volume.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.get_symbol_for_vr" title="coder.SimpleSolnModel.get_symbol_for_vr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_symbol_for_vr</span></code></a>(self)</p></td>
<td><p>Retrieves SymPy symbol for reference volume.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.set_include_dh_code" title="coder.SimpleSolnModel.set_include_dh_code"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_include_dh_code</span></code></a>(self[, include])</p></td>
<td><p>Sets a boolean flag controlling the inclusion code implementing the Debye-Hückel functions.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.set_reference_origin" title="coder.SimpleSolnModel.set_reference_origin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_reference_origin</span></code></a>(self[, Tr, Pr, Vr])</p></td>
<td><p>Sets the reference conditions for the model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.symmetric_index_from_2d_array" title="coder.SimpleSolnModel.symmetric_index_from_2d_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">symmetric_index_from_2d_array</span></code></a>(self[, elm])</p></td>
<td><p>Given a 2D array index, retrieves a 1D symmetric storage index.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.SimpleSolnModel.symmetric_index_from_3d_array" title="coder.SimpleSolnModel.symmetric_index_from_3d_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">symmetric_index_from_3d_array</span></code></a>(self[, elm])</p></td>
<td><p>Given a 3D array index, retrieves a 1D symmetric storage index.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="coder.SimpleSolnModel.a_list">
<em class="property">property </em><code class="sig-name descname">a_list</code><a class="headerlink" href="#coder.SimpleSolnModel.a_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of tuples used internally by the class</p>
<p>Each tuple contains the following entries:</p>
<ul class="simple">
<li><p>[0] str - Function name for derivatives of the Helmholtz energy</p></li>
<li><p>[1] int - Order of temperature derivative</p></li>
<li><p>[2] int - Order of volume derivative</p></li>
</ul>
<p>Generally for internal use by the class</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of tuples</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.add_expression_to_model">
<code class="sig-name descname">add_expression_to_model</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">expression</em>, <em class="sig-param">params</em>, <em class="sig-param">exp_type='unrestricted'</em>, <em class="sig-param">lower_limits=(None</em>, <em class="sig-param">None)</em>, <em class="sig-param">upper_limits=(None</em>, <em class="sig-param">None)</em>, <em class="sig-param">implicit_functions=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.add_expression_to_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.add_expression_to_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an expression and associated parameters to the model.</p>
<p>Adds an expression for the Gibbs or Helmholtz energy to the
solution model along with a description of expression parameters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>expression</strong><span class="classifier">sympy.core.symbol.Symbol</span></dt><dd><p>A SymPy expression for the Gibbs free energy (if model_type is ‘TP’)
or the Helmholtz energy (if model_type is ‘TV’).</p>
<p>The expression may contain an implicit variable, <em>f</em>, whose value
is a function of T,P or T,V.  The value of <em>f</em> is determined
numerically by solving the implicit_function expression (defined
below) at runtime using Newton’s method.</p>
</dd>
<dt><strong>params</strong><span class="classifier">An array of tuples</span></dt><dd><p>Structure (string, string, SymPy expression):</p>
<ul class="simple">
<li><p>[0] str - Name of the parameter</p></li>
<li><p>[1] str - Units of parameter</p></li>
<li><p>[2] sympy.core.symbol.Symbol - SymPy symbol for the parameter</p></li>
</ul>
</dd>
<dt><strong>exp_type</strong><span class="classifier">str, default=’unrestricted’</span></dt><dd><ul class="simple">
<li><p>‘unrestricted’ - Expression is applicable over the whole of T,P or T,V space.</p></li>
<li><p>‘restricted’ - Expression applies only between the specified
lower_limits and upper_limits.</p></li>
</ul>
</dd>
<dt><strong>lower_limits</strong><span class="classifier">tuple, default (None, None)</span></dt><dd><p>A tuple of SymPy expressions defining the inclusive lower (T,P) or
(T,V) limit of applicability of the expression. Used only if
exp_type is set to ‘restricted’.</p>
</dd>
<dt><strong>upper_limits</strong><span class="classifier">tuple, default (None, None)</span></dt><dd><p>A tuple of SymPy expressions defining the inclusive upper (T,P) or
(T,V) limit of applicability of the expression. Used only if
exp_type is set to ‘restricted’.</p>
</dd>
<dt><strong>implicit_functions</strong><span class="classifier">Array of tuples</span></dt><dd><p>A tuple element contains three parts:</p>
<ul class="simple">
<li><p>[0] sympy.core.symbol.Symbol - SymPy expression for an implicit
function in two independent (T,P or T,V) variables and one
dependent variable (<em>f</em>). The function is equal to zero.</p></li>
<li><p>[1] sympy.core.symbol.Symbol - SymPy symbol for the dependent
variable <em>f</em>.</p></li>
<li><p>[2] sympy.core.symbol.Symbol - SymPy expression that initializes <em>f</em>
in the iterative routine. This expression must be defined in
terms of known parameters and Tr, Pr, T, P.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.conversion_string">
<em class="property">property </em><code class="sig-name descname">conversion_string</code><a class="headerlink" href="#coder.SimpleSolnModel.conversion_string" title="Permalink to this definition">¶</a></dt>
<dd><p>List of strings that describe how to assign mole numbers to phase components</p>
<p>Each string in the list equates the bracketed component number to a mathematical
expression involving mole numbers of elements in the bulk composition of the
solution. For example, [‘[0]=[Na]’, ‘[1]=[Ca]’, ‘[2]=[K]’], which says that all
the sodium in the solution defines the moles of the 1st
comment (components are indexed starting with 0), all the calcium the 2nd
component, and all the potassium the 3rd.</p>
<p>The righthand side of each expression in the list may be more complex,
for example [Ca]-[Na]/2+[K], if appropriate. The conversion strings are used to
convert bulk composition of the solution when expressed as elemental
concentrations to concentrations of the endmember components.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>List of strings, [str,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.create_code_module">
<code class="sig-name descname">create_code_module</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">phase='Feldspar'</em>, <em class="sig-param">params={}</em>, <em class="sig-param">endmembers=[]</em>, <em class="sig-param">identifier=None</em>, <em class="sig-param">prefix='cy'</em>, <em class="sig-param">module_type='fast'</em>, <em class="sig-param">silent=False</em>, <em class="sig-param">language='C'</em>, <em class="sig-param">minimal_deriv_set=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.create_code_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.create_code_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates include and code file for a model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>phase</strong><span class="classifier">str</span></dt><dd><p>Model instance title (e.g., phase name).  Used to name the generated
function. Cannot contain blank spaces or special characters; underscore
(“_”) is permitted. Convention capitalizes the first letter and letter
following an underscore (“_”) character.</p>
</dd>
<dt><strong>params</strong><span class="classifier">dict</span></dt><dd><p>Parameter values for the model instance.
The keys of this dictionary are validated against parameter symbols
stored for the model.</p>
</dd>
<dt><strong>endmembers</strong><span class="classifier">list of str</span></dt><dd><p>A list of prefixes for standard state property functions for the
endmember components of this solution. E.g., “Albite_berman” will
be used to call functions with names like Albite_berman_g(…)
If the standard state property routines are coded by the
StdStateModel Class in this module, all required functions will be
generated and they will automatically be compliant with this naming
convention.</p>
</dd>
<dt><strong>identifier</strong><span class="classifier">str</span></dt><dd><p>A unique identifier for the model instance.
Defaults to local when module is created (rounded to the second).</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str</span></dt><dd><p>Prefix to function names for Python bindings, e.g.,
{prefix}_{phase}_{module}_g(T,P)</p>
</dd>
<dt><strong>module_type</strong><span class="classifier">str</span></dt><dd><p>Generate code that executes “fast”, but does not expose hooks for
model parameter calibration. Alternately, generate code suitable for
“calib”ration of parameters in the model, which executes more slowly
and exposes additional functions that allow setting of parameters
and generation of derivatives of thermodynamic functions with
respect to model parameters.</p>
</dd>
<dt><strong>silent</strong><span class="classifier">bool</span></dt><dd><p>Do not print status messages.</p>
</dd>
<dt><strong>language</strong><span class="classifier">str</span></dt><dd><p>Language syntax for generated code. (“C” is the C99 programming
language.)</p>
</dd>
<dt><strong>minimal_deriv_set</strong><span class="classifier">bool</span></dt><dd><p>Generate a minimal set of compositional derivatives: dgdn, d2gdndt,
d2gdndp, d3gdndt2, d3gdndtdp, d3gdndp2, d4gdndt3, d4gdndt2dp,
d4gdndtdp2, d4gdndp3, d2gdn2, d3gdn2dt, d3gdn2dp, d3gdn3.  This is
the subset of derivatives currently required for solution phases
that are imported into the phases module. Remaining derivatives are
returned with values of zero.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">Boolean</span></dt><dd><p>True if module is succesfully generated, False if some error occurred</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.create_conversion_code_block">
<code class="sig-name descname">create_conversion_code_block</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.create_conversion_code_block"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.create_conversion_code_block" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a block of code that computes moles of endmember components
from moles of elements according to a specified recipe.</p>
<p>The recipe is read from the property conversion_string.</p>
<p>The code block has access to the variables: T, P, and e, where
e is a numpy array containing mole numbers of elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>text</strong><span class="classifier">str</span></dt><dd><p>A block of C code that renders the conversion</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The recipe looks like: [‘[0]=[Na]’, ‘[1]=[Ca]’, ‘[2]=[K]’],
a list whose elements describe how to assign moles to each endmember.
The entries in the list may contain algebraic combinations of elements
[Na] and moles of endmember components [0].</p>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.create_formula_code_block">
<code class="sig-name descname">create_formula_code_block</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.create_formula_code_block"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.create_formula_code_block" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a block of code that computes a formula for this phase.</p>
<p>The formula is formatted as specified in the property formula_string.</p>
<p>The code block has access to the variables: T, P, and n, where
n is a numpy array containing mole numbers of endmember components.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>text</strong><span class="classifier">str</span></dt><dd><p>A block of C code that renders the formula</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The formula string looks like: Ca[Ca]Na[Na]K[K]Al[Al]Si[Si]O8</p>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.create_soln_calc_h_file">
<code class="sig-name descname">create_soln_calc_h_file</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">language='C'</em>, <em class="sig-param">module_type='fast'</em>, <em class="sig-param">minimal_deriv_set=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.create_soln_calc_h_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.create_soln_calc_h_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an include file implementing model calculations.</p>
<p>Note that this include file contains code for functions that implement
the model for the generic case. It is meant to be included into a file
that implements a specific parameterized instance of the model. See
create_code_module().</p>
<p>The user does not normally call this function directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>language</strong><span class="classifier">string</span></dt><dd><p>Language syntax for generated code. (“C” is the C99 programming
language.)</p>
</dd>
<dt><strong>module_type</strong><span class="classifier">string</span></dt><dd><p>Generate code that executes “fast” but does not expose hooks for
model parameter calibration. Alternately, generate code suitable for
“calib”ration of parameters in the model, which executes more slowly
and exposes additional functions that allow setting of parameters
and generation of derivatives of thermodynamic functions with
respect to model parameters.</p>
</dd>
<dt><strong>minimal_deriv_set</strong><span class="classifier">bool</span></dt><dd><p>Generate a minimal set of compositional derivatives: dgdn, d2gdndt,
d2gdndp, d3gdndt2, d3gdndtdp, d3gdndp2, d4gdndt3, d4gdndt2dp,
d4gdndtdp2, d4gdndp3, d2gdn2, d3gdn2dt, d3gdn2dp, d3gdn3.  This is
the subset of derivatives currently required for solution phases
that are imported into the phases module. Remaining derivatives are
returned with values of zero.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.create_soln_calib_h_file">
<code class="sig-name descname">create_soln_calib_h_file</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">language='C'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.create_soln_calib_h_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.create_soln_calib_h_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an include file implementing model parameter derivatives.</p>
<p>Note that this include file contains code for functions that implement
the model for the generic case. It is meant to be included into a file
that implements a specific parameterized instance of the model. See
create_code_module().</p>
<p>The user does not normally call this function directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>language</strong><span class="classifier">string</span></dt><dd><p>Language syntax for generated code. (“C” is the C99 programming
language.)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.create_test_code_block">
<code class="sig-name descname">create_test_code_block</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.create_test_code_block"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.create_test_code_block" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a block of code that tests moles of endmember components
according to a specified recipe to ensure that values are viable.</p>
<p>The recipe is read from the property test_string.</p>
<p>The code block has access to the variables: T, P, and n, where
n is a numpy array containing moles of endmember components.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>text</strong><span class="classifier">str</span></dt><dd><p>A block of C code that renders the testing</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The recipe looks like: [‘[0] &gt; 0.0’, ‘[1] &gt; 0.0’, ‘[2] &gt; 0.0’],
a list whose elements describe how to assign moles to each endmember.
The entries in the list may contain algebraic combinations of moles of
endmember components [0], and the length of the list (i.e., the
number of tests) is unbounded.</p>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.d2n_g_list">
<em class="property">property </em><code class="sig-name descname">d2n_g_list</code><a class="headerlink" href="#coder.SimpleSolnModel.d2n_g_list" title="Permalink to this definition">¶</a></dt>
<dd><p>List of strings that identify second order compositional derivatives produced
by the class</p>
<p>The create_code_module(…) method generates temperature, pressure, and
compositional derivatives of the Gibbs free energy of solution. This property
returns a list of all the second order compositional derivatives callable from
the generated module. The majority of these derivatives will evaluate to zero
if the minimal_deriv_set method parameter is initialized to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>List of strings, [str,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.d3n_g_list">
<em class="property">property </em><code class="sig-name descname">d3n_g_list</code><a class="headerlink" href="#coder.SimpleSolnModel.d3n_g_list" title="Permalink to this definition">¶</a></dt>
<dd><p>List of strings that identify third order compositional derivatives produced
by the class</p>
<p>The create_code_module(…) method generates temperature, pressure, and
compositional derivatives of the Gibbs free energy of solution. This property
returns a list of all the third order compositional derivatives callable from
the generated module. Most of these derivatives will evaluate to zero if the
minimal_deriv_set method parameter is initialized to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>List of strings, [str,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.dn_g_list">
<em class="property">property </em><code class="sig-name descname">dn_g_list</code><a class="headerlink" href="#coder.SimpleSolnModel.dn_g_list" title="Permalink to this definition">¶</a></dt>
<dd><p>List of strings that identify first order compositional derivatives produced
by the class</p>
<p>The create_code_module(…) method generates temperature, pressure and
compositional derivatives of the Gibbs free energy of solution. This property
returns a list of all the first order compositional derivatives callable from
the generated module. Some of these derivatives will evaluate to zero if the
minimal_deriv_set method parameter is initialized to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>List of strings, [str,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.expression_parts">
<em class="property">property </em><code class="sig-name descname">expression_parts</code><a class="headerlink" href="#coder.SimpleSolnModel.expression_parts" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of Expression class instances</p>
<p>Builds a model by layering expression instances. Each instance may be
applicable over all or a portion of the domain space of variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of Expression class instances, [Expression,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.formula_string">
<em class="property">property </em><code class="sig-name descname">formula_string</code><a class="headerlink" href="#coder.SimpleSolnModel.formula_string" title="Permalink to this definition">¶</a></dt>
<dd><p>String that describes how the chemical formula of a phase will be displayed</p>
<p>The formula string consists of a concatenation of descriptors that allow the
formula of the phase to be generated from its bulk composition. An example is:
‘Ca[Ca]Na[Na]K[K]Al[Al]Si[Si]O8’, suitable for describing the compositions of
feldspars in the system NaAlSi3O8 - CaAl2Si2O8 - KAlSi3O8. The terms in square
brackets within the string must contain standard element symbols. These bracketed
quantities are replaced by the actual number of moles of the indicated element
present in one mole of the solution when the formula of the phase is requested
in the generated module. Other than the bracketed quantities, the content of the
string is arbitrary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>str</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.g_list">
<em class="property">property </em><code class="sig-name descname">g_list</code><a class="headerlink" href="#coder.SimpleSolnModel.g_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of tuples used internally by the class</p>
<p>Each tuple contains the following entries:</p>
<ul class="simple">
<li><p>[0] str - Function name for derivatives of the Gibbs free energy</p></li>
<li><p>[1] int - Order of temperature derivative</p></li>
<li><p>[2] int - Order of pressure derivative</p></li>
</ul>
<p>Generally for internal use by the class</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of tuples</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.get_include_dh_code">
<code class="sig-name descname">get_include_dh_code</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.get_include_dh_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.get_include_dh_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves boolean flag specifying whether code implementing the Debye-Hückel
functions will be included in generated code.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>boolean :</dt><dd><p>True or False (default)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.get_model_param_names">
<code class="sig-name descname">get_model_param_names</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.get_model_param_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.get_model_param_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a list of strings of model parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result</strong><span class="classifier">list of str</span></dt><dd><p>Names of model parameters</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.get_model_param_symbols">
<code class="sig-name descname">get_model_param_symbols</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.get_model_param_symbols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.get_model_param_symbols" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a list of SymPy symbols for model parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result</strong><span class="classifier">list of sym.Symbol</span></dt><dd><p>SymPy symbols for model parameters</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.get_model_param_units">
<code class="sig-name descname">get_model_param_units</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.get_model_param_units"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.get_model_param_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a list of strings of model parameter units.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result</strong><span class="classifier">list of str</span></dt><dd><p>Units of model parameters</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.get_symbol_for_p">
<code class="sig-name descname">get_symbol_for_p</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.get_symbol_for_p"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.get_symbol_for_p" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for pressure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>P</strong><span class="classifier">sympy symbol</span></dt><dd><p>SymPy symbol for pressure</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.get_symbol_for_pr">
<code class="sig-name descname">get_symbol_for_pr</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.get_symbol_for_pr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.get_symbol_for_pr" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for reference pressure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Pr</strong><span class="classifier">sympy symbol</span></dt><dd><p>SymPy symbol for reference pressure</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.get_symbol_for_t">
<code class="sig-name descname">get_symbol_for_t</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.get_symbol_for_t"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.get_symbol_for_t" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for temperature.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>T</strong><span class="classifier">sympy.core.symbol.Symbol</span></dt><dd><p>SymPy symbol for temperature</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.get_symbol_for_tr">
<code class="sig-name descname">get_symbol_for_tr</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.get_symbol_for_tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.get_symbol_for_tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for reference temperature.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Tr</strong><span class="classifier">sympy symbol</span></dt><dd><p>SymPy symbol for reference temperature</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.get_symbol_for_v">
<code class="sig-name descname">get_symbol_for_v</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.get_symbol_for_v"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.get_symbol_for_v" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>V</strong><span class="classifier">sympy symbol</span></dt><dd><p>SymPy symbol for volume</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.get_symbol_for_vr">
<code class="sig-name descname">get_symbol_for_vr</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.get_symbol_for_vr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.get_symbol_for_vr" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves SymPy symbol for reference volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Vr</strong><span class="classifier">sympy symbol</span></dt><dd><p>SymPy symbol for reference volume</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.implicit_functions">
<em class="property">property </em><code class="sig-name descname">implicit_functions</code><a class="headerlink" href="#coder.SimpleSolnModel.implicit_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of ImplicitFunction class instances</p>
<p>A model may require that one or more implicit function expressions be
satisfied prior to evaluation of the model expressions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of ImplicitFunction class instances, [ImplicitFunction,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.module">
<em class="property">property </em><code class="sig-name descname">module</code><a class="headerlink" href="#coder.SimpleSolnModel.module" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of module</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Name of module (str)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.mu">
<em class="property">property </em><code class="sig-name descname">mu</code><a class="headerlink" href="#coder.SimpleSolnModel.mu" title="Permalink to this definition">¶</a></dt>
<dd><p>1-d matrix of SymPy symbols for the chemical potentials of thermodynamic
components in the model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>SymPy Matrix object (sympy.Matrix)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.n">
<em class="property">property </em><code class="sig-name descname">n</code><a class="headerlink" href="#coder.SimpleSolnModel.n" title="Permalink to this definition">¶</a></dt>
<dd><p>1-d matrix of SymPy symbols for the mole numbers of thermodynamic
components in the model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>SymPy Matrix object (sympy.Matrix)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.nT">
<em class="property">property </em><code class="sig-name descname">nT</code><a class="headerlink" href="#coder.SimpleSolnModel.nT" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy expression for the total number of moles of all thermodynamic
components in the solution (expressed as elements of n)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>SymPy symbol object (sympy.Symbol)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.nc">
<em class="property">property </em><code class="sig-name descname">nc</code><a class="headerlink" href="#coder.SimpleSolnModel.nc" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of thermodynamic components in the solution</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Number of components (int)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.params">
<em class="property">property </em><code class="sig-name descname">params</code><a class="headerlink" href="#coder.SimpleSolnModel.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of Parameter class instances</p>
<p>Parameters are calibrated quantities that define the model, like T_r and P_r.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of Parameter class instances, [Parameter,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.printer">
<em class="property">property </em><code class="sig-name descname">printer</code><a class="headerlink" href="#coder.SimpleSolnModel.printer" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of a SymPy code printer class used in code generation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>C99CodePrinter</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.set_include_dh_code">
<code class="sig-name descname">set_include_dh_code</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">include=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.set_include_dh_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.set_include_dh_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a boolean flag controlling the inclusion code implementing the
Debye-Hückel functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>include</strong><span class="classifier">bool</span></dt><dd><p>True or False</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.set_reference_origin">
<code class="sig-name descname">set_reference_origin</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">Tr=298.15</em>, <em class="sig-param">Pr=1.0</em>, <em class="sig-param">Vr=2.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.set_reference_origin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.set_reference_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the reference conditions for the model.</p>
<p>Tr must be specified along with one of Pr or Vr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Tr</strong><span class="classifier">float</span></dt><dd><p>Reference temperature for the model (in Kelvins)</p>
</dd>
<dt><strong>Pr</strong><span class="classifier">float</span></dt><dd><p>Reference pressure for the model (in bars)</p>
</dd>
<dt><strong>Vr</strong><span class="classifier">float</span></dt><dd><p>Reference volume of the model (in J/bar)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.symmetric_index_from_2d_array">
<code class="sig-name descname">symmetric_index_from_2d_array</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">elm=(0</em>, <em class="sig-param">0)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.symmetric_index_from_2d_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.symmetric_index_from_2d_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a 2D array index, retrieves a 1D symmetric storage index.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>elm</strong><span class="classifier">tuple of int</span></dt><dd><p>Two element tuple containing the array index</p>
<p>Values must be in the range 1 to nc.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Index of 1D compact array corresponding to the specified element of the</dt><dd></dd>
<dt>symmetric array</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.symmetric_index_from_3d_array">
<code class="sig-name descname">symmetric_index_from_3d_array</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">elm=(0</em>, <em class="sig-param">0</em>, <em class="sig-param">0)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SimpleSolnModel.symmetric_index_from_3d_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SimpleSolnModel.symmetric_index_from_3d_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a 3D array index, retrieves a 1D symmetric storage index.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>elm</strong><span class="classifier">tuple of int</span></dt><dd><p>Three element tuple containing the array index</p>
<p>Values must be in the range 1 to nc.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Index of 1D compact array corresponding to the specified element of the</dt><dd></dd>
<dt>symmetric array</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.test_string">
<em class="property">property </em><code class="sig-name descname">test_string</code><a class="headerlink" href="#coder.SimpleSolnModel.test_string" title="Permalink to this definition">¶</a></dt>
<dd><p>List of strings that describe feasible limits on the mole numbers of phase
components</p>
<p>Each string in the list constrains the bracketed component number using a
mathematical relation, e.g. [‘[0] &gt; 0.0’, ‘[1] &gt; 0.0’, ‘[2] &gt; 0.0’],
which says that the first endmember component (Components are indexed starting
with 0) must always have a value greater than 0, and similarly for the 2nd and
3rd components. The mathematical expressions may be complex, as ‘[0]+[1] &gt; 0.0’,
or ‘[0] - [1] &lt; 1/2’, as required. The test strings are used to constrain
feasible values of component mole numbers when the bulk composition of the
solution is set.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>List of strings, [str,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SimpleSolnModel.variables">
<em class="property">property </em><code class="sig-name descname">variables</code><a class="headerlink" href="#coder.SimpleSolnModel.variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of Parameter class instances</p>
<p>This property returns or sets an array of variables, either T, P, T_r and P_r
(if model_type is ’TP’) or T, V, T_r and V_r  (if model type is ’TV’).  Array
elements are encapsulated as instances of the Parameter class object. This is
done simply as a convenience wrapper. Note that SymPy symbols that are suitable
for developing model expressions using these variables are probably more easily
accessed using the methods:</p>
<ul class="simple">
<li><p>get_symbol_for_t()</p></li>
<li><p>get_symbol_for_p()</p></li>
</ul>
<p>and so on</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Array of Parameter class instances, [Parameter,…]</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.Debye">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">Debye</code><a class="reference internal" href="_modules/coder.html#Debye"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Debye" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Debye function integral</p>
<p>Defines symbolic derivatives using a recurrence relation.</p>
<dl class="method">
<dt id="coder.Debye.eval">
<em class="property">classmethod </em><code class="sig-name descname">eval</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">n=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#Debye.eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Debye.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a canonical form of cls applied to arguments args.</p>
<p>The eval() method is called when the class cls is about to be
instantiated and it should return either some simplified instance
(possible of some other class), or if the class cls should be
unmodified, return None.</p>
</dd></dl>

<dl class="method">
<dt id="coder.Debye.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#Debye.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Debye.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.B">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">B</code><a class="reference internal" href="_modules/coder.html#B"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.B" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Born function</p>
<p>Definition: <span class="math notranslate nohighlight">\(B = - \frac{1}{\varepsilon }\)</span>, where
<span class="math notranslate nohighlight">\(\varepsilon\)</span> is the dielectric constant of water</p>
<dl class="method">
<dt id="coder.B.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#B.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.B.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.Y">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">Y</code><a class="reference internal" href="_modules/coder.html#Y"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Y" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Temperature derivative of the Born function</p>
<p>Definition: <span class="math notranslate nohighlight">\(Y = \frac{1}{\varepsilon }{\left( {\frac{{\partial \ln \varepsilon }}{{\partial T}}} \right)_P}\)</span></p>
<p>Note that <span class="math notranslate nohighlight">\(Y = \frac{{\partial B}}{{\partial T}}\)</span>.</p>
<dl class="method">
<dt id="coder.Y.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#Y.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Y.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.Q">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">Q</code><a class="reference internal" href="_modules/coder.html#Q"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Q" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Pressure derivative of the Born function</p>
<p>Definition: <span class="math notranslate nohighlight">\(Q = \frac{1}{\varepsilon }{\left( {\frac{{\partial \ln \varepsilon }}{{\partial P}}} \right)_T}\)</span></p>
<p>Note that <span class="math notranslate nohighlight">\(Q = \frac{{\partial B}}{{\partial P}}\)</span>.</p>
<dl class="method">
<dt id="coder.Q.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#Q.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Q.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.X">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">X</code><a class="reference internal" href="_modules/coder.html#X"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.X" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Second partial derivative of the Born
function with respect to temperature</p>
<p>Definition: <span class="math notranslate nohighlight">\(X = \frac{1}{\varepsilon }\left[ {{{\left( {\frac{{{\partial ^2}\ln \varepsilon }}{{\partial {T^2}}}} \right)}_P} - \left( {\frac{{\partial \ln \varepsilon }}{{\partial T}}} \right)_P^2} \right]\)</span></p>
<p>Note that <span class="math notranslate nohighlight">\(X = \frac{{{\partial ^2}B}}{{\partial {T^2}}}\)</span>.</p>
<dl class="method">
<dt id="coder.X.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#X.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.X.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.U">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">U</code><a class="reference internal" href="_modules/coder.html#U"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.U" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Second partial derivative of the Born
function with respect to temperature and pressure</p>
<p>Definition: <span class="math notranslate nohighlight">\(U = \frac{1}{\varepsilon }\left[ {\left( {\frac{{{\partial ^2}\ln \varepsilon }}{{\partial T\partial P}}} \right) - {{\left( {\frac{{\partial \ln \varepsilon }}{{\partial T}}} \right)}_P}{{\left( {\frac{{\partial \ln \varepsilon }}{{\partial P}}} \right)}_T}} \right]\)</span></p>
<p>Note that <span class="math notranslate nohighlight">\(U = \frac{{{\partial ^2}B}}{{\partial T\partial P}}\)</span>.</p>
<dl class="method">
<dt id="coder.U.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#U.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.U.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.N">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">N</code><a class="reference internal" href="_modules/coder.html#N"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.N" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Second partial derivative of the Born
function with respect to pressure</p>
<p>Definition: <span class="math notranslate nohighlight">\(N = \frac{1}{\varepsilon }\left[ {{{\left( {\frac{{{\partial ^2}\ln \varepsilon }}{{\partial {P^2}}}} \right)}_T} - \left( {\frac{{\partial \ln \varepsilon }}{{\partial P}}} \right)_T^2} \right]\)</span></p>
<p>Note that <span class="math notranslate nohighlight">\(N = \frac{{{\partial ^2}B}}{{\partial {P^2}}}\)</span>.</p>
<dl class="method">
<dt id="coder.N.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#N.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.N.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.dXdT">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">dXdT</code><a class="reference internal" href="_modules/coder.html#dXdT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.dXdT" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Third partial derivative of the Born
function with respect to temperature</p>
<p>Note that <span class="math notranslate nohighlight">\(X = \frac{{{\partial ^2}B}}{{\partial {T^2}}}\)</span>.</p>
<dl class="method">
<dt id="coder.dXdT.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#dXdT.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.dXdT.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.dUdT">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">dUdT</code><a class="reference internal" href="_modules/coder.html#dUdT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.dUdT" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Third partial derivative of the Born
function with respect to pressure and twice with respect to temperature</p>
<p>Note that <span class="math notranslate nohighlight">\(U = \frac{{{\partial ^2}B}}{{\partial T\partial P}}\)</span>.</p>
</dd></dl>

<dl class="class">
<dt id="coder.dUdP">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">dUdP</code><a class="reference internal" href="_modules/coder.html#dUdP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.dUdP" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Third partial derivative of the Born
function with respect to temperature and twice with respect to pressure</p>
<p>Note that <span class="math notranslate nohighlight">\(U = \frac{{{\partial ^2}B}}{{\partial T\partial P}}\)</span>.
Identical to <em>dNdT</em>.</p>
</dd></dl>

<dl class="class">
<dt id="coder.dNdT">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">dNdT</code><a class="reference internal" href="_modules/coder.html#dNdT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.dNdT" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Third partial derivative of the Born
function with respect to temperature and twice with respect to pressure</p>
<p>Note that <span class="math notranslate nohighlight">\(N = \frac{{{\partial ^2}B}}{{\partial {P^2}}}\)</span>.</p>
</dd></dl>

<dl class="class">
<dt id="coder.dNdP">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">dNdP</code><a class="reference internal" href="_modules/coder.html#dNdP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.dNdP" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Third partial derivative of the Born
function with respect to pressure</p>
<p>Note that <span class="math notranslate nohighlight">\(N = \frac{{{\partial ^2}B}}{{\partial {P^2}}}\)</span>.</p>
</dd></dl>

<dl class="class">
<dt id="coder.Agamma">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">Agamma</code><a class="reference internal" href="_modules/coder.html#Agamma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Agamma" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Debye-Hückel function Agamma</p>
<p>Temperature and pressure derivatives to third order are coded for this
function.</p>
</dd></dl>

<dl class="class">
<dt id="coder.Bgamma">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">Bgamma</code><a class="reference internal" href="_modules/coder.html#Bgamma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Bgamma" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Debye-Hückel function Bgamma</p>
<p>Temperature and pressure derivatives to third order are coded for this
function.</p>
</dd></dl>

<dl class="class">
<dt id="coder.AsubG">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">AsubG</code><a class="reference internal" href="_modules/coder.html#AsubG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.AsubG" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Gibbs free energy equivalent of the
Debye-Hückel function Agamma</p>
<p>Definition: <span class="math notranslate nohighlight">\({A_G} =  - 2\left( {\ln 2} \right)RT{A_\gamma }\)</span></p>
<dl class="method">
<dt id="coder.AsubG.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#AsubG.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.AsubG.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.AsubH">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">AsubH</code><a class="reference internal" href="_modules/coder.html#AsubH"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.AsubH" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Enthalpy equivalent of the Debye-Hückel
function Agamma</p>
<p>Definition: <span class="math notranslate nohighlight">\({A_H} = {A_G} - T{\left( {\frac{{\partial {A_G}}}{{\partial T}}} \right)_P}\)</span></p>
<p>Pressure derivative: <span class="math notranslate nohighlight">\(\frac{{\partial {A_H}}}{{\partial P}} = \frac{{\partial {A_G}}}{{\partial P}} - T\frac{{{\partial ^2}{A_G}}}{{\partial T\partial P}}\)</span></p>
<p>or, <span class="math notranslate nohighlight">\(\frac{{\partial {A_H}}}{{\partial P}} = {A_V} - T{A_{Ex}}\)</span></p>
<dl class="method">
<dt id="coder.AsubH.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#AsubH.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.AsubH.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.AsubJ">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">AsubJ</code><a class="reference internal" href="_modules/coder.html#AsubJ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.AsubJ" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Temperature derivative of AsubH</p>
<p>Definition: <span class="math notranslate nohighlight">\({A_J} = {\left( {\frac{{\partial {A_H}}}{{\partial T}}} \right)_P}\)</span></p>
</dd></dl>

<dl class="class">
<dt id="coder.AsubV">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">AsubV</code><a class="reference internal" href="_modules/coder.html#AsubV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.AsubV" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Pressure derivative of AsubG</p>
<p>Definition: <span class="math notranslate nohighlight">\({A_V} = {\left( {\frac{{\partial {A_G}}}{{\partial P}}} \right)_T}\)</span></p>
<dl class="method">
<dt id="coder.AsubV.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#AsubV.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.AsubV.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.AsubKappa">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">AsubKappa</code><a class="reference internal" href="_modules/coder.html#AsubKappa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.AsubKappa" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Pressure derivative of AsubV</p>
<p>Definition: <span class="math notranslate nohighlight">\({A_\kappa } = {\left( {\frac{{\partial {A_V}}}{{\partial P}}} \right)_T}\)</span></p>
</dd></dl>

<dl class="class">
<dt id="coder.AsubEx">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">AsubEx</code><a class="reference internal" href="_modules/coder.html#AsubEx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.AsubEx" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Temperature derivative of AsubV</p>
<p>Definition: <span class="math notranslate nohighlight">\({A_{Ex} } = {\left( {\frac{{\partial {A_V}}}{{\partial T}}} \right)_P}\)</span></p>
</dd></dl>

<dl class="class">
<dt id="coder.BsubG">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">BsubG</code><a class="reference internal" href="_modules/coder.html#BsubG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.BsubG" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Gibbs free energy equivalent of the
Debye-Hückel function Bgamma</p>
<p>Definition: <span class="math notranslate nohighlight">\({B_G} =  - 2\left( {\ln 2} \right)RT{B_\gamma }\)</span></p>
<dl class="method">
<dt id="coder.BsubG.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#BsubG.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.BsubG.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.BsubH">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">BsubH</code><a class="reference internal" href="_modules/coder.html#BsubH"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.BsubH" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Enthalpy equivalent of the Debye-Hückel
function Bgamma</p>
<p>Definition: <span class="math notranslate nohighlight">\({B_H} = {B_G} - T{\left( {\frac{{\partial {B_G}}}{{\partial T}}} \right)_P}\)</span></p>
<p>Pressure derivative: <span class="math notranslate nohighlight">\(\frac{{\partial {B_H}}}{{\partial P}} = \frac{{\partial {B_G}}}{{\partial P}} - T\frac{{{\partial ^2}{B_G}}}{{\partial T\partial P}}\)</span></p>
<p>or, <span class="math notranslate nohighlight">\(\frac{{\partial {B_H}}}{{\partial P}} = {B_V} - T{B_{Ex}}\)</span></p>
<dl class="method">
<dt id="coder.BsubH.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#BsubH.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.BsubH.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.BsubJ">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">BsubJ</code><a class="reference internal" href="_modules/coder.html#BsubJ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.BsubJ" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Temperature derivative of BsubH</p>
<p>Definition: <span class="math notranslate nohighlight">\({B_J} = {\left( {\frac{{\partial {B_H}}}{{\partial T}}} \right)_P}\)</span></p>
</dd></dl>

<dl class="class">
<dt id="coder.BsubV">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">BsubV</code><a class="reference internal" href="_modules/coder.html#BsubV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.BsubV" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Pressure derivative of BsubG</p>
<p>Definition: <span class="math notranslate nohighlight">\({B_V} = {\left( {\frac{{\partial {B_G}}}{{\partial P}}} \right)_T}\)</span></p>
<dl class="method">
<dt id="coder.BsubV.fdiff">
<code class="sig-name descname">fdiff</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">argindex=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#BsubV.fdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.BsubV.fdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a definition for the derivative of the function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.BsubKappa">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">BsubKappa</code><a class="reference internal" href="_modules/coder.html#BsubKappa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.BsubKappa" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Pressure derivative of BsubV</p>
<p>Definition: <span class="math notranslate nohighlight">\({B_\kappa } = {\left( {\frac{{\partial {B_V}}}{{\partial P}}} \right)_T}\)</span></p>
</dd></dl>

<dl class="class">
<dt id="coder.BsubEx">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">BsubEx</code><a class="reference internal" href="_modules/coder.html#BsubEx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.BsubEx" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: Temperature derivative of BsubV</p>
<p>Definition: <span class="math notranslate nohighlight">\({B_{Ex} } = {\left( {\frac{{\partial {B_V}}}{{\partial T}}} \right)_P}\)</span></p>
</dd></dl>

<dl class="class">
<dt id="coder.Expression">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">Expression</code><span class="sig-paren">(</span><em class="sig-param">expression</em>, <em class="sig-param">params</em>, <em class="sig-param">exp_type='unrestricted'</em>, <em class="sig-param">lower_limit_T=None</em>, <em class="sig-param">lower_limit_PorV=None</em>, <em class="sig-param">upper_limit_T=None</em>, <em class="sig-param">upper_limit_PorV=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#Expression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Class holds properties of a model expression.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>expression</strong><span class="classifier">sympy.core.symbol.Symbol</span></dt><dd><p>Instance of a SymPy symbol class that contains the model expression</p>
</dd>
<dt><strong>params</strong><span class="classifier">array of instances of the Parameter class</span></dt><dd><p>Parameter class instances provided are relevant to the expression</p>
</dd>
<dt><strong>exp_type</strong><span class="classifier">str</span></dt><dd><p>‘unrestricted’ if the expression applies to the whole of (T,P) or (T,V)
space</p>
<p>‘restricted’ if the expression applies to a portion of (T,P) or (T,V)
space, specified by lower_limits and upper_limits</p>
</dd>
<dt><strong>lower_limit_T</strong><span class="classifier">Number</span></dt><dd><p>Lower limit of applicability of expression in T units</p>
</dd>
<dt><strong>lower_limit_PorV</strong><span class="classifier">Number</span></dt><dd><p>Lower limit of applicability of expression in P or V units</p>
</dd>
<dt><strong>upper_limit_T</strong><span class="classifier">Number</span></dt><dd><p>Upper limit of applicability of expression in T units</p>
</dd>
<dt><strong>upper_limit_PorV</strong><span class="classifier">Number</span></dt><dd><p>Upper limit of applicability of expression in P or V units</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>A generic expression class for defining a thermodynamic model. Multiple
expressions may be used to construct the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#coder.Expression.exp_type" title="coder.Expression.exp_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">exp_type</span></code></a></dt><dd><p>Type of expression</p>
</dd>
<dt><a class="reference internal" href="#coder.Expression.expression" title="coder.Expression.expression"><code class="xref py py-obj docutils literal notranslate"><span class="pre">expression</span></code></a></dt><dd><p>Instance of a SymPy symbol class that contains the model expression</p>
</dd>
<dt><a class="reference internal" href="#coder.Expression.lower_limit_PorV" title="coder.Expression.lower_limit_PorV"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lower_limit_PorV</span></code></a></dt><dd><p>Lower limit of applicability of expression in pressure (bars) or volume (J/bar)</p>
</dd>
<dt><a class="reference internal" href="#coder.Expression.lower_limit_T" title="coder.Expression.lower_limit_T"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lower_limit_T</span></code></a></dt><dd><p>Lower limit of applicability of expression in temperature (K)</p>
</dd>
<dt><a class="reference internal" href="#coder.Expression.params" title="coder.Expression.params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span></code></a></dt><dd><p>Array of instances of the Parameter class</p>
</dd>
<dt><a class="reference internal" href="#coder.Expression.upper_limit_PorV" title="coder.Expression.upper_limit_PorV"><code class="xref py py-obj docutils literal notranslate"><span class="pre">upper_limit_PorV</span></code></a></dt><dd><p>Upper limit of applicability of expression in pressure (bars) or volume (J/bar)</p>
</dd>
<dt><a class="reference internal" href="#coder.Expression.upper_limit_T" title="coder.Expression.upper_limit_T"><code class="xref py py-obj docutils literal notranslate"><span class="pre">upper_limit_T</span></code></a></dt><dd><p>Upper limit of applicability of expression in temperature (K)</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="coder.Expression.exp_type">
<em class="property">property </em><code class="sig-name descname">exp_type</code><a class="headerlink" href="#coder.Expression.exp_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of expression</p>
<ul class="simple">
<li><p>‘unrestricted’ if the expression applies to the whole of (T,P) or (T,V)
space</p></li>
<li><p>‘restricted’ if the expression applies to a portion of (T,P) or (T,V)
space, specified by lower_limits and upper_limits</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>String</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Expression.expression">
<em class="property">property </em><code class="sig-name descname">expression</code><a class="headerlink" href="#coder.Expression.expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of a SymPy symbol class that contains the model expression</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>sympy.core.symbol.Symbol</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Expression.lower_limit_PorV">
<em class="property">property </em><code class="sig-name descname">lower_limit_PorV</code><a class="headerlink" href="#coder.Expression.lower_limit_PorV" title="Permalink to this definition">¶</a></dt>
<dd><p>Lower limit of applicability of expression in pressure (bars) or volume (J/bar)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Float</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Expression.lower_limit_T">
<em class="property">property </em><code class="sig-name descname">lower_limit_T</code><a class="headerlink" href="#coder.Expression.lower_limit_T" title="Permalink to this definition">¶</a></dt>
<dd><p>Lower limit of applicability of expression in temperature (K)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Float</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Expression.params">
<em class="property">property </em><code class="sig-name descname">params</code><a class="headerlink" href="#coder.Expression.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of instances of the Parameter class</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Parameter class instances relevant to the expression</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Expression.upper_limit_PorV">
<em class="property">property </em><code class="sig-name descname">upper_limit_PorV</code><a class="headerlink" href="#coder.Expression.upper_limit_PorV" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper limit of applicability of expression in pressure (bars) or volume (J/bar)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Float</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Expression.upper_limit_T">
<em class="property">property </em><code class="sig-name descname">upper_limit_T</code><a class="headerlink" href="#coder.Expression.upper_limit_T" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper limit of applicability of expression in temperature (K)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Float</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.f_mu_e">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">f_mu_e</code><a class="reference internal" href="_modules/coder.html#f_mu_e"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.f_mu_e" title="Permalink to this definition">¶</a></dt>
<dd><p>A placeholder class that creates a SymPy function that accepts three
arguments and returns a value of zero/</p>
<p>This class is used by the SpeciationSolnModel class to initial functions
that return excess chemical potentials for an ideal solution.</p>
<dl class="simple">
<dt>Extends:</dt><dd><p>sym.Function</p>
</dd>
<dt>Variables:</dt><dd><p>nargs {number} – Number of arguments to the function</p>
</dd>
</dl>
<dl class="method">
<dt id="coder.f_mu_e.eval">
<em class="property">classmethod </em><code class="sig-name descname">eval</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">z</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#f_mu_e.eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.f_mu_e.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a canonical form of cls applied to arguments args.</p>
<p>The eval() method is called when the class cls is about to be
instantiated and it should return either some simplified instance
(possible of some other class), or if the class cls should be
unmodified, return None.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.gSolvent">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">gSolvent</code><a class="reference internal" href="_modules/coder.html#gSolvent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.gSolvent" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Function package extension: g solvent function</p>
<p>Temperature and pressure derivatives to second order are coded for
this function.</p>
</dd></dl>

<dl class="class">
<dt id="coder.Implicit_Function">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">Implicit_Function</code><span class="sig-paren">(</span><em class="sig-param">implicit_function</em>, <em class="sig-param">dep_variable</em>, <em class="sig-param">initial_guess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#Implicit_Function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Implicit_Function" title="Permalink to this definition">¶</a></dt>
<dd><p>Class holds properties of an Implicit Function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>implicit_function</strong><span class="classifier">sympy.core.symbol.Symbol</span></dt><dd><p>A SymPy expression for an implicit function in two independent (T,P or
T,V) variables and one dependent variable (<em>f</em>). The function is equal
to  zero; e.g., <span class="math notranslate nohighlight">\(log(f) - f = 0\)</span>. This expression must be defined in
terms of known parameters and Tr, Pr, T, P.</p>
</dd>
<dt><strong>dep_variable</strong><span class="classifier">sympy.core.symbol.Symbol</span></dt><dd><p>A SymPy symbol for the dependent variable <em>f</em></p>
</dd>
<dt><strong>initial_guess</strong><span class="classifier">sympy.core.symbol.Symbol</span></dt><dd><p>A SymPy expression that initializes <em>f</em> in the iterative routine. This
expression must be defined in terms of known parameters and Tr, Pr,
T, P.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Implicit functions are solved prior to evaluating model expressions for the
Gibbs free energy or Helmholtz energy.  They must be differentiable with
respect to model parameters T and P, or T and V.  Typically, implicit
functions are used to support expressions for equations of state, e.g.
the Birch Murnaghan expression, which is implicit in V and T, when coupled
with a reference pressure expression for the Gibbs free energy, which is
explicit in T and P, requires an implicit function that solves for V given
an input value of P.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#coder.Implicit_Function.function" title="coder.Implicit_Function.function"><code class="xref py py-obj docutils literal notranslate"><span class="pre">function</span></code></a></dt><dd><p>A SymPy expression for an implicit function in two independent (T,P or T,V) variables and one dependent variable (<em>f</em>).</p>
</dd>
<dt><a class="reference internal" href="#coder.Implicit_Function.guess" title="coder.Implicit_Function.guess"><code class="xref py py-obj docutils literal notranslate"><span class="pre">guess</span></code></a></dt><dd><p>A SymPy expression that initializes <em>f</em> in the iterative routine.</p>
</dd>
<dt><a class="reference internal" href="#coder.Implicit_Function.variable" title="coder.Implicit_Function.variable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">variable</span></code></a></dt><dd><p>A SymPy symbol for the dependent variable <em>f</em>.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="coder.Implicit_Function.function">
<em class="property">property </em><code class="sig-name descname">function</code><a class="headerlink" href="#coder.Implicit_Function.function" title="Permalink to this definition">¶</a></dt>
<dd><p>A SymPy expression for an implicit function in two independent (T,P or
T,V) variables and one dependent variable (<em>f</em>). The function is equal
to zero; e.g., <span class="math notranslate nohighlight">\(log(f) - f = 0\)</span>. This expression must be defined in
terms of known parameters and Tr, Pr, T, P.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>sympy.core.symbol.Symbol</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Implicit_Function.guess">
<em class="property">property </em><code class="sig-name descname">guess</code><a class="headerlink" href="#coder.Implicit_Function.guess" title="Permalink to this definition">¶</a></dt>
<dd><p>A SymPy expression that initializes <em>f</em> in the iterative routine. This
expression must be defined in terms of known parameters and Tr, Pr,
T, P.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>sympy.core.symbol.Symbol</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Implicit_Function.variable">
<em class="property">property </em><code class="sig-name descname">variable</code><a class="headerlink" href="#coder.Implicit_Function.variable" title="Permalink to this definition">¶</a></dt>
<dd><p>A SymPy symbol for the dependent variable <em>f</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>sympy.core.symbol.Symbol</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.ComplexSolnModel">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">ComplexSolnModel</code><span class="sig-paren">(</span><em class="sig-param">nc=None</em>, <em class="sig-param">ns=None</em>, <em class="sig-param">nw=None</em>, <em class="sig-param">model_type='TP'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Class creates a model of the thermodynamic properties of a complex solution.</p>
<p>Inherits all methods and functionality of the Simple Solution Model class.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>nc</strong><span class="classifier">int</span></dt><dd><p>Number of thermodynamic components in the solution</p>
</dd>
<dt><strong>ns</strong><span class="classifier">int</span></dt><dd><p>Number of ordering parameters in the solution</p>
</dd>
<dt><strong>nw</strong><span class="classifier">int</span></dt><dd><p>Number of species in the solution</p>
</dd>
<dt><strong>model_type</strong><span class="classifier">str</span></dt><dd><p>Model type of ‘TP’ implies that expressions are of the form of the Gibbs
free energy.</p>
<p>Model type of ‘TV’ implies that expressions are of the form of the
Helmholtz energy. This option is infrequently used.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This class is for creating a representation of the thermodynamic properties
of a complex solution phase.  The principal use of the class is to construct
a model symbolically and to generate code that implements the model for
model parameter calibration and thermodynamic property calculation.</p>
<p>A complex solution is one that does not contain implicit variables that need
be determined via solution of conditions of homogeneous equilibrium.
Examples of complex solutions include aqueous or liquid solutions involving
complex formation (speciation) or solid solutions that include
cation-ordering or composition dependent symmetry-breaking phase transitions.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#coder.ComplexSolnModel.ns" title="coder.ComplexSolnModel.ns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ns</span></code></a></dt><dd><p>Number of ordering parameters in the solution</p>
</dd>
<dt><a class="reference internal" href="#coder.ComplexSolnModel.nw" title="coder.ComplexSolnModel.nw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nw</span></code></a></dt><dd><p>Number of species in the solution</p>
</dd>
<dt><a class="reference internal" href="#coder.ComplexSolnModel.order_sub" title="coder.ComplexSolnModel.order_sub"><code class="xref py py-obj docutils literal notranslate"><span class="pre">order_sub</span></code></a></dt><dd><p>Deprecated</p>
</dd>
<dt><a class="reference internal" href="#coder.ComplexSolnModel.s" title="coder.ComplexSolnModel.s"><code class="xref py py-obj docutils literal notranslate"><span class="pre">s</span></code></a></dt><dd><p>1-d matrix of SymPy symbols for the ordering parameters in the model</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.add_expression_to_model" title="coder.ComplexSolnModel.add_expression_to_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_expression_to_model</span></code></a>(self, expression, params)</p></td>
<td><p>Adds an expression and associated parameters to the model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.create_code_module" title="coder.ComplexSolnModel.create_code_module"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_code_module</span></code></a>(self[, phase, params, …])</p></td>
<td><p>Creates include and code file for a model instance.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.create_ordering_code" title="coder.ComplexSolnModel.create_ordering_code"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_ordering_code</span></code></a>(self, …)</p></td>
<td><p>Generates ordering function code for a complex solution model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.create_soln_calc_h_file" title="coder.ComplexSolnModel.create_soln_calc_h_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_soln_calc_h_file</span></code></a>(self[, language, …])</p></td>
<td><p>Creates an include file implementing model calculations.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.create_soln_calib_h_file" title="coder.ComplexSolnModel.create_soln_calib_h_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_soln_calib_h_file</span></code></a>(self[, language])</p></td>
<td><p>Creates an include file implementing model parameter derivatives.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.eval_asymmetric_regular_param" title="coder.ComplexSolnModel.eval_asymmetric_regular_param"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eval_asymmetric_regular_param</span></code></a>(self, nA_val, …)</p></td>
<td><p>Evaluates a Taylor expansion of the molar non-configurational Gibbs free energy equivalent to an asymmetric regular solution parameter.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.eval_endmember" title="coder.ComplexSolnModel.eval_endmember"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eval_endmember</span></code></a>(self, n_val, s_val, taylor)</p></td>
<td><p>Evaluates a Taylor expansion of the molar non-configurational Gibbs free energy at the specified composition.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.eval_regular_param" title="coder.ComplexSolnModel.eval_regular_param"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eval_regular_param</span></code></a>(self, nA_val, sA_val, …)</p></td>
<td><p>Evaluates a Taylor expansion of the molar non-configurational Gibbs free energy equivalent to a regular solution parameter for the A-B join.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.eval_ternary_param" title="coder.ComplexSolnModel.eval_ternary_param"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eval_ternary_param</span></code></a>(self, nA_val, sA_val, …)</p></td>
<td><p>Evaluates a Taylor expansion of the molar non-configurational Gibbs free energy equivalent to a strict ternary solution parameter.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.exchange_indices" title="coder.ComplexSolnModel.exchange_indices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">exchange_indices</span></code></a>(self, i, j, k, var)</p></td>
<td><p>Reassigns indices in a derivative tensor to generate dependent entries.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#coder.ComplexSolnModel.taylor_expansion" title="coder.ComplexSolnModel.taylor_expansion"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taylor_expansion</span></code></a>(self[, order, mod_type])</p></td>
<td><p>Contructs a Taylor expansion of the non-configurational Gibbs free energy of specified order using the SymPy symbols in the list var.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="coder.ComplexSolnModel.add_expression_to_model">
<code class="sig-name descname">add_expression_to_model</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">expression</em>, <em class="sig-param">params</em>, <em class="sig-param">ordering_functions=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.add_expression_to_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.add_expression_to_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an expression and associated parameters to the model.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>expression</strong><span class="classifier">sympy.core.symbol.Symbol</span></dt><dd><p>A SymPy expression for the Gibbs free energy (if model_type is ‘TP’)
or the Helmholtz energy (if model_type is ‘TV’).</p>
<p>The expression may contain an implicit variable, <em>f</em>, whose value
is a function of T,P or T,V.  The value of <em>f</em> is determined
numerically by solving the implicit_function expression (defined
below) at runtime using Newton’s method.</p>
</dd>
<dt><strong>params</strong><span class="classifier">An array of tuples</span></dt><dd><p>Structure (string, string, SymPy expression):</p>
<ul class="simple">
<li><p>[0] str - Name of the parameter</p></li>
<li><p>[1] str - Units of parameter</p></li>
<li><p>[2] sympy.core.symbol.Symbol - SymPy symbol for the parameter</p></li>
</ul>
</dd>
<dt><strong>ordering_functions</strong><span class="classifier">tuple</span></dt><dd><p>A tuple element contains four parts:</p>
<ul class="simple">
<li><p>[0] [sympy.core.symbol.Symbol] - List of SymPy expressions for a
system of implicit functions in independent variables T,P,n, and one
or more dependent variables (ordering parameters). Each of the functions
in the system must evaluate to zero.</p></li>
<li><p>[1] [sympy.core.symbol.Symbol] - List of SymPy symbols for the
dependent variables in the specified system.</p></li>
<li><p>[2] [sympy.core.symbol.Symbol] - List of SymPy expressions that
initialize the ordering parameters in the iterative routine that
solve the system of implicit functions.</p></li>
<li><p>[3] [sympy.logic.boolalg.And] - An instance of the And class, as
output from reduce_inequalities(), that holds a logical expression
that embodies bound constraints on the ordering parameters</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.create_code_module">
<code class="sig-name descname">create_code_module</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">phase='Feldspar'</em>, <em class="sig-param">params={}</em>, <em class="sig-param">endmembers=[]</em>, <em class="sig-param">identifier=None</em>, <em class="sig-param">prefix='cy'</em>, <em class="sig-param">module_type='fast'</em>, <em class="sig-param">silent=False</em>, <em class="sig-param">language='C'</em>, <em class="sig-param">add_code_to_access_order_paramater=False</em>, <em class="sig-param">minimal_deriv_set=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.create_code_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.create_code_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates include and code file for a model instance.</p>
<p>See documentation for superclass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>add_code_to_access_order_paramater</strong><span class="classifier">bool</span></dt><dd><p>Generates additional functions to output values of order parameters
as a function of composition, temperature and pressure</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.create_ordering_code">
<code class="sig-name descname">create_ordering_code</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">moles_assign_text</em>, <em class="sig-param">order_assign_text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.create_ordering_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.create_ordering_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates ordering function code for a complex solution model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>moles_assign_text</strong><span class="classifier">str</span></dt><dd><p>Text string containing C code for assigning moles of each
component (n1, n2, …, nc) from a vector of moles, n.</p>
</dd>
<dt><strong>order_assign_text</strong><span class="classifier">str</span></dt><dd><p>Text string containing C code for assigning values of each
ordering variable (s1, s2, …, ss) from a vector, s</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">str</span></dt><dd><p>String of code that implements ordering functions and derivatives.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The user does not normally call this function directly.</p>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.create_soln_calc_h_file">
<code class="sig-name descname">create_soln_calc_h_file</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">language='C'</em>, <em class="sig-param">module_type='fast'</em>, <em class="sig-param">minimal_deriv_set=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.create_soln_calc_h_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.create_soln_calc_h_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an include file implementing model calculations.</p>
<p>Note that this include file contains code for functions that implement
the model for the generic case. It is meant to be included into a file
that implements a specific parameterized instance of the model. See
create_code_module().</p>
<p>The user does not normally call this function directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>language</strong><span class="classifier">string</span></dt><dd><p>Language syntax for generated code. (“C” is the C99 programming
language.)</p>
</dd>
<dt><strong>module_type</strong><span class="classifier">string</span></dt><dd><p>Generate code that executes “fast” but does not expose hooks for
model parameter calibration. Alternately, generate code suitable for
“calib”ration of parameters in the model, which executes more slowly
and exposes additional functions that allow setting of parameters
and generation of derivatives of thermodynamic functions with
respect to model parameters.</p>
</dd>
<dt><strong>minimal_deriv_set</strong><span class="classifier">bool</span></dt><dd><p>Generate a minimal set of compositional derivatives: dgdn, d2gdndt,
d2gdndp, d3gdndt2, d3gdndtdp, d3gdndp2, d4gdndt3, d4gdndt2dp,
d4gdndtdp2, d4gdndp3, d2gdn2, d3gdn2dt, d3gdn2dp, d3gdn3.  This is
the subset of derivatives currently required for solution phases
that are imported into the phases module. Remaining derivatives are
returned with values of zero.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.create_soln_calib_h_file">
<code class="sig-name descname">create_soln_calib_h_file</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">language='C'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.create_soln_calib_h_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.create_soln_calib_h_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an include file implementing model parameter derivatives.</p>
<p>Note that this include file contains code for functions that implement
the model for the generic case. It is meant to be included into a file
that implements a specific parameterized instance of the model. See
create_code_module().</p>
<p>The user does not normally call this function directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>language</strong><span class="classifier">string</span></dt><dd><p>Language syntax for generated code. (“C” is the C99 programming
language.)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.eval_asymmetric_regular_param">
<code class="sig-name descname">eval_asymmetric_regular_param</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">nA_val</em>, <em class="sig-param">sA_val</em>, <em class="sig-param">nB_val</em>, <em class="sig-param">sB_val</em>, <em class="sig-param">taylor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.eval_asymmetric_regular_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.eval_asymmetric_regular_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates a Taylor expansion of the molar non-configurational Gibbs free
energy equivalent to an asymmetric regular solution parameter.</p>
<p>This method yields a quantity DW, related to the asymmetric regular
solution parameters, W112 and W122, as W + DW and W - DW:</p>
<p>dW = (27/2)G(2A/3+B/3) - 12G(A/2+B/2) - 3G(A) + 3G(B)/2</p>
<p>See method eval_regular_param to obtain W.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>nA_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing composition in terms of solution
components of endmember A</p>
<p>Must have length nc</p>
</dd>
<dt><strong>sA_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing values of ordering parameters for
the specified composition of endmember A</p>
<p>Must have length ns</p>
</dd>
<dt><strong>nB_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing composition in terms of solution
components of endmember B</p>
<p>Must have length nc</p>
</dd>
<dt><strong>sB_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing values of ordering parameters for
the specified composition of endmember B</p>
<p>Must have length ns</p>
</dd>
<dt><strong>taylor</strong><span class="classifier">str</span></dt><dd><p>A SymPy expression for Taylor expansion of the non-configurational
Gibbs free energy interms of the elements of n and s</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">str</span></dt><dd><p>A SymPy expression for the evaluated Taylor series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>join A-B ==&gt;  (1/3)(2/3)(W + dW(2/3-1/3)) =  G(2A/3+B/3)-2G(A)/3-G(B)/3</p>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.eval_endmember">
<code class="sig-name descname">eval_endmember</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">n_val</em>, <em class="sig-param">s_val</em>, <em class="sig-param">taylor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.eval_endmember"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.eval_endmember" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates a Taylor expansion of the molar non-configurational Gibbs free
energy at the specified composition.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>n_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing composition in terms of solution
components</p>
<p>Must have length nc</p>
</dd>
<dt><strong>s_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing values of ordering parameters for
the specified composition</p>
<p>Must have length ns</p>
</dd>
<dt><strong>taylor</strong><span class="classifier">str</span></dt><dd><p>A SymPy expression for Taylor expansion of the non-configurational
Gibbs free energy interms of the elements of n and s</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">str</span></dt><dd><p>A SymPy expression for the evaluated Taylor series</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.eval_regular_param">
<code class="sig-name descname">eval_regular_param</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">nA_val</em>, <em class="sig-param">sA_val</em>, <em class="sig-param">nB_val</em>, <em class="sig-param">sB_val</em>, <em class="sig-param">taylor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.eval_regular_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.eval_regular_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates a Taylor expansion of the molar non-configurational Gibbs free
energy equivalent to a regular solution parameter for the A-B join.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>nA_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing composition in terms of solution
components of endmember A</p>
<p>Must have length nc</p>
</dd>
<dt><strong>sA_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing values of ordering parameters for
the specified composition of endmember A</p>
<p>Must have length ns</p>
</dd>
<dt><strong>nB_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing composition in terms of solution
components of endmember B</p>
<p>Must have length nc</p>
</dd>
<dt><strong>sB_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing values of ordering parameters for
the specified composition of endmember B</p>
<p>Must have length ns</p>
</dd>
<dt><strong>taylor</strong><span class="classifier">str</span></dt><dd><p>A SymPy expression for Taylor expansion of the non-configurational
Gibbs free energy interms of the elements of n and s</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">str</span></dt><dd><p>A SymPy expression for the evaluated Taylor series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>join A-B ==&gt;  4 ( G(A/2+B/2) - G(A)/2 - G(B)/2 )</p>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.eval_ternary_param">
<code class="sig-name descname">eval_ternary_param</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">nA_val</em>, <em class="sig-param">sA_val</em>, <em class="sig-param">nB_val</em>, <em class="sig-param">sB_val</em>, <em class="sig-param">nC_val</em>, <em class="sig-param">sC_val</em>, <em class="sig-param">taylor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.eval_ternary_param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.eval_ternary_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates a Taylor expansion of the molar non-configurational Gibbs free energy equivalent to a strict ternary solution parameter.</p>
<p>WT = 27G(A/3+B/3+C/3) - 12G(A/2+B/2) - 12G(A/2,C/2) - 12G(B/2,C/2) + 3G(A) +
3G(B) + 3G(C)</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>nA_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing composition in terms of solution
components of endmember A</p>
<p>Must have length nc</p>
</dd>
<dt><strong>sA_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing values of ordering parameters for
the specified composition of endmember A</p>
<p>Must have length ns</p>
</dd>
<dt><strong>nB_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing composition in terms of solution
components of endmember B</p>
<p>Must have length nc</p>
</dd>
<dt><strong>sB_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing values of ordering parameters for
the specified composition of endmember B</p>
<p>Must have length ns</p>
</dd>
<dt><strong>nC_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing composition in terms of solution
components of endmember C</p>
<p>Must have length nc</p>
</dd>
<dt><strong>sC_val</strong><span class="classifier">[]</span></dt><dd><p>List of SymPy constants providing values of ordering parameters for
the specified composition of endmember C</p>
<p>Must have length ns</p>
</dd>
<dt><strong>taylor</strong><span class="classifier">str</span></dt><dd><p>A SymPy expression for Taylor expansion of the non-configurational
Gibbs free energy interms of the elements of n and s</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">str</span></dt><dd><p>A SymPy expression for the evaluated Taylor series</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<dl class="simple">
<dt>A-B-C ==&gt; (1/27) W(A,B,C) + (1/9) W(A,B) + (1/9) W(A,C) + (1/9) W(B,C)</dt><dd><p>= G(A/3+B/3+C/3) - G(A)/3 - G(B)/3 - G(C)/3</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.exchange_indices">
<code class="sig-name descname">exchange_indices</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">i</em>, <em class="sig-param">j</em>, <em class="sig-param">k</em>, <em class="sig-param">var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.exchange_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.exchange_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Reassigns indices in a derivative tensor to generate dependent entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>i,j,k</strong><span class="classifier">int</span></dt><dd><p>Indices, i &lt;= j &lt;= k, of a tensor derivative</p>
</dd>
<dt><strong>var</strong><span class="classifier">str</span></dt><dd><p>Name of tensor</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">str</span></dt><dd><p>Code fragment (in C) that assigns name[i][j][k] to redundant
elements of the tensor, e.g. name[k][j][i]</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The user does not normally call this function directly.</p>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.ns">
<em class="property">property </em><code class="sig-name descname">ns</code><a class="headerlink" href="#coder.ComplexSolnModel.ns" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of ordering parameters in the solution</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Number of ordering parameters in the solution (int)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.nw">
<em class="property">property </em><code class="sig-name descname">nw</code><a class="headerlink" href="#coder.ComplexSolnModel.nw" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of species in the solution</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>Number of species in the solution (int)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.order_sub">
<em class="property">property </em><code class="sig-name descname">order_sub</code><a class="headerlink" href="#coder.ComplexSolnModel.order_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated</p>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.s">
<em class="property">property </em><code class="sig-name descname">s</code><a class="headerlink" href="#coder.ComplexSolnModel.s" title="Permalink to this definition">¶</a></dt>
<dd><p>1-d matrix of SymPy symbols for the ordering parameters in the model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>SymPy Matrix object (sympy.Matrix)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.ComplexSolnModel.taylor_expansion">
<code class="sig-name descname">taylor_expansion</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">order=2</em>, <em class="sig-param">mod_type='non-convergent'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#ComplexSolnModel.taylor_expansion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.ComplexSolnModel.taylor_expansion" title="Permalink to this definition">¶</a></dt>
<dd><p>Contructs a Taylor expansion of the non-configurational Gibbs free
energy of specified order using the SymPy symbols in the list var.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>order</strong><span class="classifier">int</span></dt><dd><p>Order of the Taylor expansion. Second order is the default.
The maximum order is 4.</p>
</dd>
<dt><strong>mod_type</strong><span class="classifier">str</span></dt><dd><ol class="arabic simple">
<li><p>‘convergent’: order parameter expansion only has symmetric terms</p></li>
<li><p>‘non-convergent’: order parameter expansion has all terms</p></li>
</ol>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">tuple</span></dt><dd><ol class="arabic simple">
<li><p>Number of terms in the expansion</p></li>
<li><p>Taylor expansion as a SymPy expression</p></li>
<li><p>List of SymPy symbols for energetic terms in the expansion</p></li>
<li><p>List of SymPy expressions multiplying energetic terms in the
expansion</p></li>
</ol>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.Ordering_Functions">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">Ordering_Functions</code><span class="sig-paren">(</span><em class="sig-param">ordering_functions</em>, <em class="sig-param">dep_variables</em>, <em class="sig-param">initial_guesses</em>, <em class="sig-param">dep_bounds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#Ordering_Functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Ordering_Functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Class holds properties of implicit functions that describe homogeneous
equilibria via cation ordering or speciation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ordering_functions</strong><span class="classifier">list[sympy.core.symbol.Symbol]</span></dt><dd><p>A list of SymPy expressions defining a system of implicit multi-variable
functions having 2+nc independent variables (T,P, and moles of endmember
components) and one or more dependent variables (ordering parameters).
The number of implicit equations in the system must equal the number of
ordering parameters. The implicit function expressions must all be equal
to zero; e.g., <span class="math notranslate nohighlight">\(log(f) - f = 0\)</span>. The list of expressions must be
defined in terms of known parameters and Tr, Pr, T, P, n.</p>
</dd>
<dt><strong>dep_variables</strong><span class="classifier">list[sympy.core.symbol.Symbol]</span></dt><dd><p>A list of SymPy symbols for the dependent variables, i.e., the ordering
parameters or species mole fractions</p>
</dd>
<dt><strong>initial_guesses</strong><span class="classifier">list[sympy.core.symbol.Symbol]</span></dt><dd><p>SymPy expressions that initialize the ordering parameters in the
iterative routines that solve the system. These expression must be
defined in terms of known solution parameters and Tr, Pr, T, P, n.</p>
</dd>
<dt><strong>bounds</strong><span class="classifier">sympy.logic.boolalg.And</span></dt><dd><p>An instance of the And class, as output from reduce_inequalities(),
which holds a logical expression that embodies bound constraints on
the ordering parameters</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This system of equations is solved for the ordering parameters prior to
evaluating model expressions for the Gibbs free energy and its derivatives.
The equations must be differentiable with respect to model parameters T and
P.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#coder.Ordering_Functions.bounds" title="coder.Ordering_Functions.bounds"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bounds</span></code></a></dt><dd><p>Storage for the bounds parameter</p>
</dd>
<dt><a class="reference internal" href="#coder.Ordering_Functions.function" title="coder.Ordering_Functions.function"><code class="xref py py-obj docutils literal notranslate"><span class="pre">function</span></code></a></dt><dd><p>Storage for the ordering_functions parameter</p>
</dd>
<dt><a class="reference internal" href="#coder.Ordering_Functions.guess" title="coder.Ordering_Functions.guess"><code class="xref py py-obj docutils literal notranslate"><span class="pre">guess</span></code></a></dt><dd><p>Storage for the initial_guesses parameter</p>
</dd>
<dt><a class="reference internal" href="#coder.Ordering_Functions.variable" title="coder.Ordering_Functions.variable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">variable</span></code></a></dt><dd><p>Storage for the dep_variables parameter</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="coder.Ordering_Functions.bounds">
<em class="property">property </em><code class="sig-name descname">bounds</code><a class="headerlink" href="#coder.Ordering_Functions.bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Storage for the bounds parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>sympy.logic.boolalg.And</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Ordering_Functions.function">
<em class="property">property </em><code class="sig-name descname">function</code><a class="headerlink" href="#coder.Ordering_Functions.function" title="Permalink to this definition">¶</a></dt>
<dd><p>Storage for the ordering_functions parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>sympy.core.symbol.Symbol</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Ordering_Functions.guess">
<em class="property">property </em><code class="sig-name descname">guess</code><a class="headerlink" href="#coder.Ordering_Functions.guess" title="Permalink to this definition">¶</a></dt>
<dd><p>Storage for the initial_guesses parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>sympy.core.symbol.Symbol</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Ordering_Functions.variable">
<em class="property">property </em><code class="sig-name descname">variable</code><a class="headerlink" href="#coder.Ordering_Functions.variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Storage for the dep_variables parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>sympy.core.symbol.Symbol</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.Parameter">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">Parameter</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">units</em>, <em class="sig-param">expression</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#Parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.Parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Class holds properties of a model parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>Name of the parameter</p>
</dd>
<dt><strong>units</strong><span class="classifier">str</span></dt><dd><p>Units of the parameter</p>
</dd>
<dt><strong>expression</strong><span class="classifier">sympy.core.symbol.Symbol</span></dt><dd><p>Instance of a SymPy symbol class equivalent to name</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Class is utilized principally to store model parameters and model variables
used by the Expression class to construct expressions for the Gibbs free
energy or Helmholtz energy.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#coder.Parameter.expression" title="coder.Parameter.expression"><code class="xref py py-obj docutils literal notranslate"><span class="pre">expression</span></code></a></dt><dd><p>Instance of a SymPy symbol class equivalent to property name</p>
</dd>
<dt><a class="reference internal" href="#coder.Parameter.name" title="coder.Parameter.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code></a></dt><dd><p>Name of the parameter</p>
</dd>
<dt><a class="reference internal" href="#coder.Parameter.units" title="coder.Parameter.units"><code class="xref py py-obj docutils literal notranslate"><span class="pre">units</span></code></a></dt><dd><p>Units of the parameter</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="coder.Parameter.expression">
<em class="property">property </em><code class="sig-name descname">expression</code><a class="headerlink" href="#coder.Parameter.expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of a SymPy symbol class equivalent to property name</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>sympy.core.symbol.Symbol</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Parameter.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#coder.Parameter.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>String</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.Parameter.units">
<em class="property">property </em><code class="sig-name descname">units</code><a class="headerlink" href="#coder.Parameter.units" title="Permalink to this definition">¶</a></dt>
<dd><p>Units of the parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>String</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.SpeciationSolnModel">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">SpeciationSolnModel</code><span class="sig-paren">(</span><em class="sig-param">nc=None</em>, <em class="sig-param">nb=None</em>, <em class="sig-param">ns=None</em>, <em class="sig-param">Cb=None</em>, <em class="sig-param">Cs=None</em>, <em class="sig-param">R=None</em>, <em class="sig-param">model_type='ideal'</em>, <em class="sig-param">debug_print=False</em>, <em class="sig-param">multiroot_method='gsl_multiroot_fdfsolver_gnewton'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SpeciationSolnModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SpeciationSolnModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Class creates a model of the thermodynamic properties of a speciated solution.</p>
<p>Inherits all methods and functionality of the Complex Solution Model class.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>nc</strong><span class="classifier">int</span></dt><dd><p>Number of thermodynamic components in the solution</p>
</dd>
<dt><strong>nb</strong><span class="classifier">int</span></dt><dd><p>Number of basis species in the solution (usually, nb == nc)</p>
</dd>
<dt><strong>ns</strong><span class="classifier">int</span></dt><dd><p>Number of non-basis species in the solution</p>
</dd>
<dt><strong>Cb</strong><span class="classifier">numpy 2-d array</span></dt><dd><p>An array of nb rows and ne columns that maps the composition of basis
species to moles of endmember components. Often, this matrix is the
identity matrix, but that condition is not required. Cb must be an
invertible matrix.</p>
</dd>
<dt><strong>Cs</strong><span class="classifier">numpy 2-d array</span></dt><dd><p>An array of ns rows and ne columns that maps the composition of
non-basis species to moles of endmember components.</p>
</dd>
<dt><strong>R</strong><span class="classifier">SymPy Matrix, (ns,nb)</span></dt><dd><p>A SymPy Matrix with ns rows and nb columns containing reaction
coefficients that map basis to non-basis species. This matrix need be
provided only if an expression added to the model utilizes a SymPy
indexed symbol (e.g., the <em>r</em> property of this class).  Otherwise,
the quanity is unreferenced.</p>
</dd>
<dt><strong>model_type</strong><span class="classifier">(str, opt …)</span></dt><dd><p>Type of speciation model. Default is (‘ideal’) implying ideal mixing
between basis and non-basis species.
Acceptable alternatives are:</p>
<ul class="simple">
<li><p>(‘debye-huckel-limit’, []) - Non-ideal interactions are described by
the Debye-Hückel limiting law and the mole fraction -&gt; molality
conversion term. The second element of the tuple is a list of charges
associated with the basis plus non-basis species; anions have negative
values, cations have positive values, neutral species have zero values.</p></li>
<li><p>(‘debye-huckel’, [], []) - Non-ideal interactions are described
by the full version of Debye-Hückel theory (including the denominator
term) and the mole fraction -&gt; molality conversion term. The second
element of the tuple is a list of charges associated with the basis
plus non-basis species. The third term in the tuple is a list of
constants associated with the azero contribution to the Debye-Hückel
term for each basis and non-basis species.</p></li>
<li><p>(‘debye-huckel-ext’, [], [], []) - Non-ideal interactions are
described by the full version of Debye-Hückel theory (including the
denominator term) plus the mole fraction -&gt; molality conversion term
and an extended term. The second element of the tuple is a list of
charges associated with the basis plus non-basis species. The third
term in the tuple is a list of constants associated with the azero
contribution to the Debye-Hückel term for each basis and non-basis
species. The fourth term is a list of constant coefficients that pre-
multiply the species molality and define an extended term contribution
to the excess Gibbs energy.</p></li>
</ul>
</dd>
<dt><strong>debug_print</strong><span class="classifier">bool</span></dt><dd><p>Print debug messages from root solvers in generated C code</p>
</dd>
<dt><strong>multiroot_method</strong><span class="classifier">str</span></dt><dd><p>Method to use in GNU Scientific Library (GSL) solver for homogeneous
equilibrium speciation. Options are:</p>
<p>gsl_multiroot_fdfsolver_hybridsj</p>
<p>gsl_multiroot_fdfsolver_hybridj</p>
<p>gsl_multiroot_fdfsolver_newton</p>
<p>gsl_multiroot_fdfsolver_gnewton (default)</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The property mu declared by the SimpleSolnModel subclass is modified by
this class to return a 1-d SymPy Matrix of symbols for endmember chemical
potentials of all solution species, nb+ns, numbered as 1 … nb+ns</p>
<p>This class is for creating a representation of the thermodynamic properties
of a speciated solution phase.  The principal use of the class is to
construct a model symbolically, and to generate code that implements the
model for model parameter calibration and thermodynamic property calculation.</p>
<p>A speciated solution is one that contains implicit concentration variables
that need to be determined via solution of conditions of homogeneous
equilibrium.  Examples of speciated solutions include aqueous solutions with
complexes or gas solutions with multiple species.</p>
<p>Model specification:</p>
<ul>
<li><p>A model may be contructed in a manner similar to the SimpleSolnModel
class by adding an expression for the total Gibbs free energy of solution
using the add_expression_to_model() method.  This methoid of construction is
suitable if the specification is compact and does not involve iteration over
a common expression. Alternatively,</p></li>
<li><p>A model may be formed by adding a basis species and non-basis species
contribution, where the non-basis species contribution is specified as an
implicit sum over a parameterized exprression of fixed mathematical form.
A model of this kind is constructed by adding multiple terms using the
add_expression_to_model() method. Typically, the terms are:</p>
<blockquote>
<div><ul class="simple">
<li><p>A SymPy expression for the ideal Gibbs free energy of solution
contribution of the basis species. This expression should include
standard state, and configurational contributions</p></li>
<li><p>A SymPy expression for the ideal Gibbs free energy of solution
contribution of the non-basis species. This sympy expression
represents a term that involves an implicit summation over non-basis
species. This expression may be parameterized using SymPy
IndexedBase-class symbols and a sympy function describing the standard
state chemical potential of the non-basis species.</p></li>
<li><p>A SymPy expression for the non-ideal Gibbs free energy of solution.
The expression may be parameterized using an arbitrary number of SymPy
IndexedBase-class symbols.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>a_list (inherited from super class)</strong></dt><dd></dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.b_list" title="coder.SpeciationSolnModel.b_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">b_list</span></code></a></dt><dd><p>Symbolic definitions of basis species</p>
</dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.Cb" title="coder.SpeciationSolnModel.Cb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cb</span></code></a></dt><dd><p>Stoichiometric array mapping basis species to elements</p>
</dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.Cs" title="coder.SpeciationSolnModel.Cs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cs</span></code></a></dt><dd><p>Stoichiometric array mapping non-basis species to elements</p>
</dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.debug_print" title="coder.SpeciationSolnModel.debug_print"><code class="xref py py-obj docutils literal notranslate"><span class="pre">debug_print</span></code></a></dt><dd><p>Print debug messages from root solvers in generated C code</p>
</dd>
<dt><strong>expression_parts (inherited from super class)</strong></dt><dd></dd>
<dt><strong>g_list (inherited from super class)</strong></dt><dd></dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.i" title="coder.SpeciationSolnModel.i"><code class="xref py py-obj docutils literal notranslate"><span class="pre">i</span></code></a></dt><dd><p>Index variable for looping over basis species</p>
</dd>
<dt><strong>implicit_functions (inherited from super class)</strong></dt><dd></dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.j" title="coder.SpeciationSolnModel.j"><code class="xref py py-obj docutils literal notranslate"><span class="pre">j</span></code></a></dt><dd><p>Index variable for looping over non-basis species</p>
</dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.k" title="coder.SpeciationSolnModel.k"><code class="xref py py-obj docutils literal notranslate"><span class="pre">k</span></code></a></dt><dd><p>Index variable for looping over all species</p>
</dd>
<dt><strong>module (inherited from super class)</strong></dt><dd></dd>
<dt><strong>mu (overrides super class)</strong></dt><dd></dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.multiroot_method" title="coder.SpeciationSolnModel.multiroot_method"><code class="xref py py-obj docutils literal notranslate"><span class="pre">multiroot_method</span></code></a></dt><dd><p>Method to use in GNU Scientific Library (GSL) multiroot solver</p>
</dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.mu_e" title="coder.SpeciationSolnModel.mu_e"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mu_e</span></code></a></dt><dd><p>Generic excess chemical potential of a non-basis species</p>
</dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.mu_ex" title="coder.SpeciationSolnModel.mu_ex"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mu_ex</span></code></a></dt><dd><p>A SymPy matrix of SymPy functions that calculate the excess chemical</p>
</dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.mu_s" title="coder.SpeciationSolnModel.mu_s"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mu_s</span></code></a></dt><dd><p>Generic standard state chemical potenial of a non-basis species</p>
</dd>
<dt><strong>n (inherited from super class)</strong></dt><dd></dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.nb" title="coder.SpeciationSolnModel.nb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nb</span></code></a></dt><dd><p>Number of basis species</p>
</dd>
<dt><strong>nc (inherited from super class)</strong></dt><dd></dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.ns" title="coder.SpeciationSolnModel.ns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ns</span></code></a></dt><dd><p>Number of non-basis species</p>
</dd>
<dt><strong>nT (inherited from super class)</strong></dt><dd></dd>
<dt><strong>params (inherited from super class)</strong></dt><dd></dd>
<dt><strong>printer (inherited from super class)</strong></dt><dd></dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.r" title="coder.SpeciationSolnModel.r"><code class="xref py py-obj docutils literal notranslate"><span class="pre">r</span></code></a></dt><dd><p>Vector of SymPy symbols for indexed stoichiometric reaction coefficients</p>
</dd>
<dt><strong>s (inherited from super class)</strong></dt><dd></dd>
<dt><a class="reference internal" href="#coder.SpeciationSolnModel.R" title="coder.SpeciationSolnModel.R"><code class="xref py py-obj docutils literal notranslate"><span class="pre">R</span></code></a></dt><dd><p>SymPy Matrix of stoichiometric reaction coefficients</p>
</dd>
<dt><strong>Rg</strong></dt><dd></dd>
<dt><strong>variables (inherited from super class)</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="coder.SpeciationSolnModel.Cb">
<em class="property">property </em><code class="sig-name descname">Cb</code><a class="headerlink" href="#coder.SpeciationSolnModel.Cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Stoichiometric array mapping basis species to elements</p>
<p>An array of nb rows and ne columns that maps the composition of basis
species to moles of endmember components. Often, this matrix is the
identity matrix, but that condition is not required. Cb must be an
invertible matrix.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>Numpy 2d array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.Cs">
<em class="property">property </em><code class="sig-name descname">Cs</code><a class="headerlink" href="#coder.SpeciationSolnModel.Cs" title="Permalink to this definition">¶</a></dt>
<dd><p>Stoichiometric array mapping non-basis species to elements</p>
<p>[description]</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>[type] – [description]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.R">
<em class="property">property </em><code class="sig-name descname">R</code><a class="headerlink" href="#coder.SpeciationSolnModel.R" title="Permalink to this definition">¶</a></dt>
<dd><p>SymPy Matrix of stoichiometric reaction coefficients</p>
<p>A SymPy Matrix of shape (ns, nb) whose elements are constants that map
the stoichiometry of basis species to that of non-basis species. The
constants are SymPy compatible rational numbers. The columns of R are
assigned to the elements of r at code generation.  See the description
of the r property for further explanation as to how R is defined.</p>
<p>R need be specified only if one or more of the expressions added to the
model contain a SymPy IndexedBase variable.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>SymPy Matrix (ns,nb)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.Rgas">
<em class="property">property </em><code class="sig-name descname">Rgas</code><a class="headerlink" href="#coder.SpeciationSolnModel.Rgas" title="Permalink to this definition">¶</a></dt>
<dd><p>Sympy symbol for the Universal gas constant</p>
<p>The universal gas constant used as a parameter in constructing expresions
for the Gibbs free energy. Must be given units and a parameter value.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>SymPy Symbol</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.b_list">
<em class="property">property </em><code class="sig-name descname">b_list</code><a class="headerlink" href="#coder.SpeciationSolnModel.b_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Symbolic definitions of basis species</p>
<p>A list of SymPy expressions that define the mole fractions of basis
species (the elements of b_list) in terms of moles of endmember
components and mole fractions of non-basis species (elements of s)</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>list of SymPy expressions</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.create_code_module">
<code class="sig-name descname">create_code_module</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">phase='IdealGas'</em>, <em class="sig-param">params={}</em>, <em class="sig-param">endmembers=[]</em>, <em class="sig-param">identifier=None</em>, <em class="sig-param">prefix='cy'</em>, <em class="sig-param">module_type='fast'</em>, <em class="sig-param">silent=False</em>, <em class="sig-param">language='C'</em>, <em class="sig-param">minimal_deriv_set=False</em>, <em class="sig-param">debug=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SpeciationSolnModel.create_code_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SpeciationSolnModel.create_code_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates include and code file for a model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>phase</strong><span class="classifier">str</span></dt><dd><p>Model instance title (e.g., phase name).  Used to name the generated
function. Cannot contain blanks or special characters; underscore
(“_”) is permitted. Convention capitalizes the first letter and letter
following a “_” character.</p>
</dd>
<dt><strong>params</strong><span class="classifier">dict</span></dt><dd><p>Parameter values for the model instance.
The keys of this dictionary are validated against parameter symbols
stored for the model.</p>
</dd>
<dt><strong>endmembers</strong><span class="classifier">list of str</span></dt><dd><p>A list of prefixes for standard state property functions for the
endmember components of this solution. e.g., “Albite_berman” will
be used to call functions with names like Albite_berman_g(…)
If the standard state property routines are coded by the
StdStateModel Class in this module, all required functions will be
generated and they will automatically be compliant with this naming
convention. There must be nc+ns entries in this list, i.e.,
list elements must include basis + non-basis species in an order
that is internally consistent with specification of the G function.</p>
</dd>
<dt><strong>identifier</strong><span class="classifier">str</span></dt><dd><p>A unique identifier for the model instance.
Defaults to date/time when module is created (rounded to the second).</p>
</dd>
<dt><strong>prefix</strong><span class="classifier">str</span></dt><dd><p>Prefix to function names for python bindings, e.g.,
{prefix}_{phase}_{module}_g(T,P)</p>
</dd>
<dt><strong>module_type</strong><span class="classifier">str</span></dt><dd><p>Generate code that executes “fast”, but does not expose hooks for
model parameter calibration. Alternately, generate code suitable for
“calib”ration of parameters in the model, which executes more slowly
and exposes additional functions that allow setting of parameters
and generation of derivatives of thermodynamic functions with
respect to model parameters.</p>
</dd>
<dt><strong>silent</strong><span class="classifier">bool</span></dt><dd><p>Do not print status messages.</p>
</dd>
<dt><strong>language</strong><span class="classifier">str</span></dt><dd><p>Language syntax for generated code, (“C” is the C99 programming
language.)</p>
</dd>
<dt><strong>minimal_deriv_set</strong><span class="classifier">bool</span></dt><dd><p>Generate a minimal set of compositional derivatives: dgdn, d2gdndt,
d2gdndp, d3gdndt2, d3gdndtdp, d3gdndp2, d4gdndt3, d4gdndt2dp,
d4gdndtdp2, d4gdndp3, d2gdn2, d3gdn2dt, d3gdn2dp, d3gdn3.  This is
the subset of derivatives currently required for solution phases
that are imported into the phases module. Remaining derivatives are
returned with values of zero.</p>
</dd>
<dt><strong>debug</strong><span class="classifier">int</span></dt><dd><p>Level of debugging output generated by module:
0 : None
1 : Informational messages
2 : Informational plus normal debugging messages
3 : Verbose informational and debugging messages</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>result</strong><span class="classifier">Boolean</span></dt><dd><p>True if module is succesfully generated, False if some error
occurred</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method overrides that of the super class.</p>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.create_ordering_code">
<code class="sig-name descname">create_ordering_code</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">moles_assign_text</em>, <em class="sig-param">order_assign_text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SpeciationSolnModel.create_ordering_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SpeciationSolnModel.create_ordering_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates ordering function code for a speciation solution model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>moles_assign_text</strong><span class="classifier">str</span></dt><dd><p>Text string containing C code for assigning moles of each
component (n1, n2, …, nc) from a vector of moles, n.</p>
</dd>
<dt><strong>order_assign_text</strong><span class="classifier">str</span></dt><dd><p>Text string containing C code for assigning values of each
ordering variable (s1, s2, …, ss) from a vector, s</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">str</span></dt><dd><p>String of code that implements ordering functions and derivatives.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The user does not normally call this function directly.</p>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.debug_print">
<em class="property">property </em><code class="sig-name descname">debug_print</code><a class="headerlink" href="#coder.SpeciationSolnModel.debug_print" title="Permalink to this definition">¶</a></dt>
<dd><p>Print debug messages from root solvers in generated C code</p>
<p>Passed to code generation routines to flag generation of output related
to the functioning of root finding and related numerical methods for
speciation.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.i">
<em class="property">property </em><code class="sig-name descname">i</code><a class="headerlink" href="#coder.SpeciationSolnModel.i" title="Permalink to this definition">¶</a></dt>
<dd><p>Index variable for looping over basis species</p>
<p>A SymPy instance of the class Idx that is used to loop over terms in
the Gibbs free energy that describe properties of basis species. The
range of the index is 1 to nb+1. Use this symbol as an index for
summation or product terms in the potential.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>SymPy.Idx</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.j">
<em class="property">property </em><code class="sig-name descname">j</code><a class="headerlink" href="#coder.SpeciationSolnModel.j" title="Permalink to this definition">¶</a></dt>
<dd><p>Index variable for looping over non-basis species</p>
<p>A SymPy instance of the class Idx that is used to loop over terms in
the Gibbs free energy that describe properties of non-basis species.
The range of the index is 1 to ns+1. Use this symbol as an index for
summation or product terms in the potential.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>SymPy.Idx</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.k">
<em class="property">property </em><code class="sig-name descname">k</code><a class="headerlink" href="#coder.SpeciationSolnModel.k" title="Permalink to this definition">¶</a></dt>
<dd><p>Index variable for looping over all species</p>
<p>A SymPy instance of the class Idx that is used to loop over terms in
the Gibbs free energy that describe properties of species. The range
of the index is 1 to nb+ns+1. Use this symbol as an index for summation
or product terms in the potential.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>SymPy.Idx</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.mu">
<em class="property">property </em><code class="sig-name descname">mu</code><a class="headerlink" href="#coder.SpeciationSolnModel.mu" title="Permalink to this definition">¶</a></dt>
<dd><p>1-d matrix of SymPy symbols for the chemical potentials of basis and
non-basis species in the model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>SymPy Matrix object (sympy.Matrix)</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The property definition is changed from that of the underlying Simple
Solution superclass</p>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.mu_e">
<em class="property">property </em><code class="sig-name descname">mu_e</code><a class="headerlink" href="#coder.SpeciationSolnModel.mu_e" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic excess chemical potential of a non-basis species</p>
<p>A SymPy instance of the class Function that is used to represent the
value of the excess chemical potential of a non-basis species in an
expression that loops species properties.  In such a loop, values
of mu_e are replaced with specific entries of mu_ex[…] when the code
is printed. The instance is a function of T, P, and n.</p>
<p>By default, for an ideal solution this function returns a value of zero.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>SymPy function</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.mu_ex">
<em class="property">property </em><code class="sig-name descname">mu_ex</code><a class="headerlink" href="#coder.SpeciationSolnModel.mu_ex" title="Permalink to this definition">¶</a></dt>
<dd><p>A SymPy matrix of SymPy functions that calculate the excess chemical
potential of each species in solution</p>
<p>The functions must have arguments T, P and n, where T is temperature,
P is pressure and n is a vector of mole numbers of basis species in
solution.  The matrix has shape (nb+ns, 1)</p>
<p>By default, for an ideal solution each function returns a value of zero.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>SymPy Matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.mu_s">
<em class="property">property </em><code class="sig-name descname">mu_s</code><a class="headerlink" href="#coder.SpeciationSolnModel.mu_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic standard state chemical potenial of a non-basis species</p>
<p>A SymPy instance of the class Function that is used to represent the
value of the standard state Gibbs free energy of a non-basis species
in an expression that loops species properties.  In such a loop, values
of mu_s are replaced with specific entries of mu[…] when the code is
printed. The instance is a function of T and P.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>SymPy.Function</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.multiroot_method">
<em class="property">property </em><code class="sig-name descname">multiroot_method</code><a class="headerlink" href="#coder.SpeciationSolnModel.multiroot_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to use in GNU Scientific Library (GSL) multiroot solver</p>
<p>The gsl_multiroot_fdfsolver_type. Options are:</p>
<p>“gsl_multiroot_fdfsolver_hybridsj”</p>
<p>“gsl_multiroot_fdfsolver_hybridj”</p>
<p>“gsl_multiroot_fdfsolver_newton”</p>
<p>“gsl_multiroot_fdfsolver_gnewton” (default)</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.nb">
<em class="property">property </em><code class="sig-name descname">nb</code><a class="headerlink" href="#coder.SpeciationSolnModel.nb" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of basis species</p>
<p>The number of basis spcies is generally equal to the number of
thermodynamic components (nc) required to describe the solution phase.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.ns">
<em class="property">property </em><code class="sig-name descname">ns</code><a class="headerlink" href="#coder.SpeciationSolnModel.ns" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of non-basis species</p>
<p>The number of non-basis species is strictly positive but unbounded.
Concentrations of non-basis species are determined by solution of mass
action expressions corresponding to conditions of homogeneous
equilibrium.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SpeciationSolnModel.r">
<em class="property">property </em><code class="sig-name descname">r</code><a class="headerlink" href="#coder.SpeciationSolnModel.r" title="Permalink to this definition">¶</a></dt>
<dd><p>Vector of SymPy symbols for indexed stoichiometric reaction coefficients</p>
<p>A SymPy Matrix of length <em>nc</em> whose elements are instances of the
SymPy class IndexedBase. These symbols are used to parameterize model
Gibbs free energy expressions that require coefficients that map the
stoichiometry of basis species to that of non-basis species; i.e.,
(moles of non-basis species) = r[0]*(moles of 1st basis species) + …
r[nc-1]*(moles of nc-1 basis species).  Numerical values for these
symbols will be assigned by letting r[…] denote rows of the numpy
matrix R, where R is given by Cs (Cb)^-1. Cb is an array of nb rows and
ne columns (ne is the number of elements; generally ne = nb) that maps
the composition of basis species to moles of endmember components. Cs is
an array of ns rows and ne columns that maps the composition of
non-basis species to moles of endmember components. Numpy matrices Cb
and Cs are provided to the class at the code generation step when
calling the create_code_module() method.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>SymPy.Matrix – length nb</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="coder.SubCodePrinter">
<em class="property">class </em><code class="sig-prename descclassname">coder.</code><code class="sig-name descname">SubCodePrinter</code><span class="sig-paren">(</span><em class="sig-param">settings=None</em>, <em class="sig-param">nBasis=0</em>, <em class="sig-param">forIndex='i'</em>, <em class="sig-param">sum_result='result'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SubCodePrinter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SubCodePrinter" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclass of the C99 code printer class in SymPy</p>
<p>Extension expands <span class="math notranslate nohighlight">\(x^2\)</span>, <span class="math notranslate nohighlight">\(x^3\)</span>, and <span class="math notranslate nohighlight">\(x^4\)</span> as multiplication rather than
pow(x, (double)n).</p>
<p>The second implements a version of user function derivative printing
specified to endmember chemical potential derivatives called externally
from a C structure. (See implementation below.)</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#coder.SubCodePrinter.forIndex" title="coder.SubCodePrinter.forIndex"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forIndex</span></code></a></dt><dd><p>Index variable used in for loop generation for printing derivatives of</p>
</dd>
<dt><a class="reference internal" href="#coder.SubCodePrinter.nBasis" title="coder.SubCodePrinter.nBasis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nBasis</span></code></a></dt><dd><p>Number of basis species used in printing derivatives of standard state</p>
</dd>
<dt><a class="reference internal" href="#coder.SubCodePrinter.sum_result" title="coder.SubCodePrinter.sum_result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sum_result</span></code></a></dt><dd><p>Name of assignment variable used when printing summations</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="coder.SubCodePrinter.doprint">
<code class="sig-name descname">doprint</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">expr</em>, <em class="sig-param">assign_to=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/coder.html#SubCodePrinter.doprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#coder.SubCodePrinter.doprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the expression as code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>expr</strong><span class="classifier">Expression</span></dt><dd><p>The expression to be printed.</p>
</dd>
<dt><strong>assign_to</strong><span class="classifier">Symbol, MatrixSymbol, or string (optional)</span></dt><dd><p>If provided, the printed code will set the expression to a
variable with name <code class="docutils literal notranslate"><span class="pre">assign_to</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SubCodePrinter.forIndex">
<em class="property">property </em><code class="sig-name descname">forIndex</code><a class="headerlink" href="#coder.SubCodePrinter.forIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Index variable used in for loop generation for printing derivatives of
standard state chemical potentials</p>
<p>See _print_derivative method for the function mu_s to illustrate
functionality. forIndex is the string equivalent of the index variable
(SymPy class Idx) used in summation expressions that are fed to the
SpeciationSolnModel class.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>[type] – [description]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SubCodePrinter.nBasis">
<em class="property">property </em><code class="sig-name descname">nBasis</code><a class="headerlink" href="#coder.SubCodePrinter.nBasis" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of basis species used in printing derivatives of standard state
chemical potentials</p>
<p>See _print_derivative method for the function mu_s to illustrate
functionality. nBasis is the number of basis species in an instance
of the SpeciationSolnModel class.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SubCodePrinter.print_subs">
<em class="property">property </em><code class="sig-name descname">print_subs</code><a class="headerlink" href="#coder.SubCodePrinter.print_subs" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of tuples of expression substitutions used in doprint()</p>
<p>Each tuple is of the form (sympy expression to be replaced, sympy
expression to be substituted). Replacement is done in expressions
passed to the doprint() method.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>list of tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="coder.SubCodePrinter.sum_result">
<em class="property">property </em><code class="sig-name descname">sum_result</code><a class="headerlink" href="#coder.SubCodePrinter.sum_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of assignment variable used when printing summations</p>
<p>See _print_Sum method to illustrate functionality. When an instance of
the SymPy class Sum is printed, the result is assigned to a variable of
this name.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2020, ENKI.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.4.0.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>